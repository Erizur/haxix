// Generated by HLC 5.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <hxd/Pixels.h>
extern hl_type t$hl_types_ArrayObj;
extern hl_type t$_dyn;
venum* hxd_Pixels_set_innerFormat(hxd__Pixels,venum*);
int hxd_Pixels_calcStride(int,venum*);
int hxd_Pixels_calcDataSize(int,int,venum*);
extern String s$0a31f72;
String Std_string(vdynamic*);
String String___add__(String,String);
haxe__io__Bytes haxe_io_Bytes_alloc(int);
void haxe_io_Bytes_blit(haxe__io__Bytes,int,haxe__io__Bytes,int,int);
int haxe_io_Bytes_getInt32(haxe__io__Bytes,int);
void haxe_io_Bytes_setInt32(haxe__io__Bytes,int,int);
#include <hl/natives.h>
extern String s$Cannot_convert_from_;
extern String s$_to_;
double haxe_io_Bytes_getFloat(haxe__io__Bytes,int);
void haxe_io_Bytes_setFloat(haxe__io__Bytes,int,double);
extern String s$8ceecb4;
extern String s$Failed_to_decode_DDS;
extern venum* g$hxd_PixelFormat_RGBA;
String hxd_Pixels_toString(hxd__Pixels);
extern String s$Pixels_;
String String___alloc__(vbyte*,int);
extern String s$x;
extern String s$7215ee9;
extern String s$9371d7a;
#include <haxe/ds/List.h>
#include <haxe/io/BytesOutput.h>
#include <format/png/Writer.h>
extern hl_type t$_i32;
haxe__io__Bytes haxe_io_Bytes_sub(haxe__io__Bytes,int,int);
extern venum* g$hxd_PixelFormat_BGRA;
haxe__ds__List format_png_Tools_build32BGRA(int,int,haxe__io__Bytes,vdynamic*);
haxe__ds__List format_png_Tools_build32ARGB(int,int,haxe__io__Bytes,vdynamic*);
haxe__ds__List format_png_Tools_buildGrey(int,int,haxe__io__Bytes,vdynamic*);
extern hl_type t$haxe_io_BytesOutput;
void haxe_io_BytesOutput_new(haxe__io__BytesOutput);
extern hl_type t$format_png_Writer;
#include <haxe/io/Output.h>
void format_png_Writer_new(format__png__Writer,haxe__io__Output);
void format_png_Writer_write(format__png__Writer,haxe__ds__List);
haxe__io__Bytes haxe_io_BytesOutput_getBytes(haxe__io__BytesOutput);
extern String s$Not_a_pixel_format;
#include <hl/types/ArrayBytes_Int.h>
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
extern String s$Bit_packed_format;
extern String s$Not_supported;
extern hl_type t$hxd_Pixels;
extern hl_type t$fun_1414408;
extern String s$Must_contain_at_least_one_image;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern String s$61cf523;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$fun_51b844e;
void hl_types_ArrayObj_sort(hl__types__ArrayObj,vclosure*);
extern String s$cb05fd5;
extern String s$e265492;
extern String s$_should_be_;
extern String s$Invalid_mip_level_size_;
extern String s$Unsupported_format_;
extern String s$Unsupported_DXT10_format_;
extern String s$Unnsupported_format_;

int hxd_Pixels_toDDSLayers__$2(vclosure* r0,vdynamic* r1,vdynamic* r2) {
	hl__types__ArrayObj r3, r4;
	int r5;
	r3 = (hl__types__ArrayObj)hl_dyn_castp(&r1,&t$_dyn,&t$hl_types_ArrayObj);
	r4 = (hl__types__ArrayObj)hl_dyn_castp(&r2,&t$_dyn,&t$hl_types_ArrayObj);
	r5 = r0->hasValue ? ((int (*)(vdynamic*,hl__types__ArrayObj,hl__types__ArrayObj))r0->fun)((vdynamic*)r0->value,r3,r4) : ((int (*)(hl__types__ArrayObj,hl__types__ArrayObj))r0->fun)(r3,r4);
	return r5;
}

void hxd_Pixels_new(hxd__Pixels r0,int r1,int r2,haxe__io__Bytes r3,venum* r4,int* r5) {
	venum *r8;
	int r6, r7;
	if( r5 ) goto label$d055329_2_3;
	r6 = 0;
	goto label$d055329_2_4;
	label$d055329_2_3:
	r6 = *r5;
	label$d055329_2_4:
	r0->width = r1;
	r0->height = r2;
	r0->bytes = r3;
	r8 = hxd_Pixels_set_innerFormat(r0,r4);
	r0->offset = r6;
	r7 = 0;
	r0->flags = r7;
	return;
}

venum* hxd_Pixels_set_innerFormat(hxd__Pixels r0,venum* r1) {
	int r2, r3;
	r0->innerFormat = r1;
	r2 = r0->width;
	r2 = hxd_Pixels_calcStride(r2,r1);
	r0->stride = r2;
	r2 = r0->width;
	r3 = r0->height;
	r2 = hxd_Pixels_calcDataSize(r2,r3,r1);
	r0->dataSize = r2;
	r2 = 1;
	r2 = hxd_Pixels_calcStride(r2,r1);
	r0->bytesPerPixel = r2;
	return r1;
}

void hxd_Pixels_invalidFormat(hxd__Pixels r0) {
	String r1, r2;
	venum *r3;
	r1 = (String)s$0a31f72;
	r3 = r0->innerFormat;
	r2 = Std_string(((vdynamic*)r3));
	r1 = String___add__(r1,r2);
	hl_throw((vdynamic*)r1);
}

void hxd_Pixels_copyInner(hxd__Pixels r0) {
	haxe__io__Bytes r1, r3;
	int r4, r5, r6;
	r1 = r0->bytes;
	r4 = r0->dataSize;
	r3 = haxe_io_Bytes_alloc(r4);
	r0->bytes = r3;
	r3 = r0->bytes;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	r5 = r0->offset;
	r6 = r0->dataSize;
	haxe_io_Bytes_blit(r3,r4,r1,r5,r6);
	r4 = 0;
	r0->offset = r4;
	r4 = r0->flags;
	r5 = -2;
	r4 = r4 & r5;
	r0->flags = r4;
	return;
}

void hxd_Pixels_flipY(hxd__Pixels r0) {
	haxe__io__Bytes r11;
	int r2, r3, r4, r5, r6, r7, r8, r9, r10, r12, r13, r14;
	r2 = r0->flags;
	r3 = 1;
	r2 = r2 & r3;
	r3 = 0;
	if( r2 == r3 ) goto label$d055329_6_6;
	hxd_Pixels_copyInner(r0);
	label$d055329_6_6:
	r2 = r0->stride;
	r3 = 4;
	r2 = r3 == 0 ? 0 : r2 % r3;
	r3 = 0;
	if( r2 == r3 ) goto label$d055329_6_12;
	hxd_Pixels_invalidFormat(r0);
	label$d055329_6_12:
	r2 = 0;
	r3 = r0->height;
	r4 = 1;
	r3 = r3 >> r4;
	label$d055329_6_16:
	if( r2 >= r3 ) goto label$d055329_6_59;
	r4 = r2;
	++r2;
	r6 = r0->stride;
	r5 = r4 * r6;
	r6 = r0->offset;
	r5 = r5 + r6;
	r6 = r0->height;
	r7 = 1;
	r6 = r6 - r7;
	r6 = r6 - r4;
	r7 = r0->stride;
	r6 = r6 * r7;
	r7 = r0->offset;
	r6 = r6 + r7;
	r7 = 0;
	r8 = r0->stride;
	r9 = 2;
	r8 = r8 >> r9;
	label$d055329_6_36:
	if( r7 >= r8 ) goto label$d055329_6_58;
	++r7;
	r11 = r0->bytes;
	if( r11 == NULL ) hl_null_access();
	r10 = haxe_io_Bytes_getInt32(r11,r5);
	r11 = r0->bytes;
	if( r11 == NULL ) hl_null_access();
	r12 = haxe_io_Bytes_getInt32(r11,r6);
	r11 = r0->bytes;
	if( r11 == NULL ) hl_null_access();
	haxe_io_Bytes_setInt32(r11,r5,r12);
	r11 = r0->bytes;
	if( r11 == NULL ) hl_null_access();
	haxe_io_Bytes_setInt32(r11,r6,r10);
	r14 = 4;
	r13 = r5 + r14;
	r5 = r13;
	r14 = 4;
	r13 = r6 + r14;
	r6 = r13;
	goto label$d055329_6_36;
	label$d055329_6_58:
	goto label$d055329_6_16;
	label$d055329_6_59:
	return;
}

void hxd_Pixels_convert(hxd__Pixels r0,venum* r1) {
	String r10, r11;
	venum *r3, *r4;
	haxe__io__Bytes r9, r20, r23;
	bool r5;
	double r22, r24;
	vbyte *r8, *r15, *r21;
	int r6, r7, r12, r13, r14, r16, r17, r18, r19;
	r3 = r0->innerFormat;
	if( r3 == r1 ) goto label$d055329_7_5;
	r3 = r0->innerFormat;
	r5 = hl_type_enum_eq(((vdynamic*)r3),((vdynamic*)r1));
	if( !r5 ) goto label$d055329_7_6;
	label$d055329_7_5:
	return;
	label$d055329_7_6:
	r6 = r0->flags;
	r7 = 1;
	r6 = r6 & r7;
	r7 = 0;
	if( r6 == r7 ) goto label$d055329_7_12;
	hxd_Pixels_copyInner(r0);
	label$d055329_7_12:
	r9 = r0->bytes;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->b;
	r3 = r0->innerFormat;
	if( r3 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r3);
	switch(r6) {
		default:
		case 3:
		case 5:
		case 6:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 19:
		case 20:
		case 21:
			r10 = (String)s$Cannot_convert_from_;
			r4 = r0->innerFormat;
			r11 = Std_string(((vdynamic*)r4));
			r10 = String___add__(r10,r11);
			r11 = (String)s$_to_;
			r10 = String___add__(r10,r11);
			r11 = Std_string(((vdynamic*)r1));
			r10 = String___add__(r10,r11);
			hl_throw((vdynamic*)r10);
		case 0:
			if( r1 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r1);
			switch(r6) {
				default:
				case 0:
					r10 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r11 = Std_string(((vdynamic*)r4));
					r10 = String___add__(r10,r11);
					r11 = (String)s$_to_;
					r10 = String___add__(r10,r11);
					r11 = Std_string(((vdynamic*)r1));
					r10 = String___add__(r10,r11);
					hl_throw((vdynamic*)r10);
				case 1:
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_44:
					if( r6 >= r7 ) goto label$d055329_7_73;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r14 = r0->offset;
					r13 = r13 + r14;
					r14 = *(unsigned char*)(r8 + r13);
					r17 = 1;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					r18 = 2;
					r17 = r13 + r18;
					r17 = *(unsigned char*)(r8 + r17);
					r19 = 3;
					r18 = r13 + r19;
					r18 = *(unsigned char*)(r8 + r18);
					r19 = r13;
					++r13;
					*(unsigned char*)(r8 + r19) = (unsigned char)r18;
					r19 = r13;
					++r13;
					*(unsigned char*)(r8 + r19) = (unsigned char)r17;
					r19 = r13;
					++r13;
					*(unsigned char*)(r8 + r19) = (unsigned char)r16;
					*(unsigned char*)(r8 + r13) = (unsigned char)r14;
					goto label$d055329_7_44;
					label$d055329_7_73:
					goto label$d055329_7_107;
				case 2:
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_78:
					if( r6 >= r7 ) goto label$d055329_7_107;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r14 = r0->offset;
					r13 = r13 + r14;
					r14 = *(unsigned char*)(r8 + r13);
					r17 = 1;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					*(unsigned char*)(r8 + r13) = (unsigned char)r16;
					r17 = 2;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					r18 = 1;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r16;
					r17 = 3;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					r18 = 2;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r16;
					r17 = 3;
					r16 = r13 + r17;
					*(unsigned char*)(r8 + r16) = (unsigned char)r14;
					goto label$d055329_7_78;
			}
			label$d055329_7_107:
			goto label$d055329_7_487;
		case 1:
			if( r1 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r1);
			switch(r6) {
				default:
				case 1:
					r10 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r11 = Std_string(((vdynamic*)r4));
					r10 = String___add__(r10,r11);
					r11 = (String)s$_to_;
					r10 = String___add__(r10,r11);
					r11 = Std_string(((vdynamic*)r1));
					r10 = String___add__(r10,r11);
					hl_throw((vdynamic*)r10);
				case 0:
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_124:
					if( r6 >= r7 ) goto label$d055329_7_153;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r14 = r0->offset;
					r13 = r13 + r14;
					r14 = *(unsigned char*)(r8 + r13);
					r17 = 1;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					r18 = 2;
					r17 = r13 + r18;
					r17 = *(unsigned char*)(r8 + r17);
					r19 = 3;
					r18 = r13 + r19;
					r18 = *(unsigned char*)(r8 + r18);
					r19 = r13;
					++r13;
					*(unsigned char*)(r8 + r19) = (unsigned char)r18;
					r19 = r13;
					++r13;
					*(unsigned char*)(r8 + r19) = (unsigned char)r17;
					r19 = r13;
					++r13;
					*(unsigned char*)(r8 + r19) = (unsigned char)r16;
					*(unsigned char*)(r8 + r13) = (unsigned char)r14;
					goto label$d055329_7_124;
					label$d055329_7_153:
					goto label$d055329_7_175;
				case 2:
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_158:
					if( r6 >= r7 ) goto label$d055329_7_175;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r14 = r0->offset;
					r13 = r13 + r14;
					r14 = *(unsigned char*)(r8 + r13);
					r17 = 2;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					*(unsigned char*)(r8 + r13) = (unsigned char)r16;
					r18 = 2;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r14;
					goto label$d055329_7_158;
			}
			label$d055329_7_175:
			goto label$d055329_7_487;
		case 2:
			if( r1 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r1);
			switch(r6) {
				default:
				case 2:
				case 3:
				case 4:
					r10 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r11 = Std_string(((vdynamic*)r4));
					r10 = String___add__(r10,r11);
					r11 = (String)s$_to_;
					r10 = String___add__(r10,r11);
					r11 = Std_string(((vdynamic*)r1));
					r10 = String___add__(r10,r11);
					hl_throw((vdynamic*)r10);
				case 0:
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_192:
					if( r6 >= r7 ) goto label$d055329_7_221;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r14 = r0->offset;
					r13 = r13 + r14;
					r16 = 3;
					r14 = r13 + r16;
					r14 = *(unsigned char*)(r8 + r14);
					r17 = 2;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					r18 = 3;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r16;
					r17 = 1;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					r18 = 2;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r16;
					r16 = *(unsigned char*)(r8 + r13);
					r18 = 1;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r16;
					*(unsigned char*)(r8 + r13) = (unsigned char)r14;
					goto label$d055329_7_192;
					label$d055329_7_221:
					goto label$d055329_7_264;
				case 1:
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_226:
					if( r6 >= r7 ) goto label$d055329_7_243;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r14 = r0->offset;
					r13 = r13 + r14;
					r14 = *(unsigned char*)(r8 + r13);
					r17 = 2;
					r16 = r13 + r17;
					r16 = *(unsigned char*)(r8 + r16);
					*(unsigned char*)(r8 + r13) = (unsigned char)r16;
					r18 = 2;
					r17 = r13 + r18;
					*(unsigned char*)(r8 + r17) = (unsigned char)r14;
					goto label$d055329_7_226;
					label$d055329_7_243:
					goto label$d055329_7_264;
				case 5:
					r6 = r0->width;
					r7 = r0->height;
					r6 = r6 * r7;
					r9 = haxe_io_Bytes_alloc(r6);
					if( r9 == NULL ) hl_null_access();
					r15 = r9->b;
					r6 = 0;
					r7 = r0->width;
					r12 = r0->height;
					r7 = r7 * r12;
					label$d055329_7_254:
					if( r6 >= r7 ) goto label$d055329_7_263;
					r12 = r6;
					++r6;
					r14 = 2;
					r13 = r12 << r14;
					r13 = *(unsigned char*)(r8 + r13);
					*(unsigned char*)(r15 + r12) = (unsigned char)r13;
					goto label$d055329_7_254;
					label$d055329_7_263:
					r0->bytes = r9;
			}
			label$d055329_7_264:
			goto label$d055329_7_487;
		case 4:
			if( r1 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r1);
			r7 = 7;
			if( r6 != r7 ) goto label$d055329_7_297;
			r6 = r0->height;
			r7 = r0->width;
			r6 = r6 * r7;
			r7 = 4;
			r6 = r6 * r7;
			r9 = haxe_io_Bytes_alloc(r6);
			if( r9 == NULL ) hl_null_access();
			r15 = r9->b;
			r6 = 0;
			r7 = r0->width;
			r12 = r0->height;
			r7 = r7 * r12;
			label$d055329_7_281:
			if( r6 >= r7 ) goto label$d055329_7_295;
			r12 = r6;
			++r6;
			if( r9 == NULL ) hl_null_access();
			r14 = 2;
			r13 = r12 << r14;
			r23 = r0->bytes;
			if( r23 == NULL ) hl_null_access();
			r16 = 4;
			r14 = r12 << r16;
			r22 = haxe_io_Bytes_getFloat(r23,r14);
			haxe_io_Bytes_setFloat(r9,r13,r22);
			goto label$d055329_7_281;
			label$d055329_7_295:
			r0->bytes = r9;
			goto label$d055329_7_306;
			label$d055329_7_297:
			r10 = (String)s$Cannot_convert_from_;
			r4 = r0->innerFormat;
			r11 = Std_string(((vdynamic*)r4));
			r10 = String___add__(r10,r11);
			r11 = (String)s$_to_;
			r10 = String___add__(r10,r11);
			r11 = Std_string(((vdynamic*)r1));
			r10 = String___add__(r10,r11);
			hl_throw((vdynamic*)r10);
			label$d055329_7_306:
			goto label$d055329_7_487;
		case 7:
			if( r1 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r1);
			switch(r6) {
				default:
				case 0:
					r10 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r11 = Std_string(((vdynamic*)r4));
					r10 = String___add__(r10,r11);
					r11 = (String)s$_to_;
					r10 = String___add__(r10,r11);
					r11 = Std_string(((vdynamic*)r1));
					r10 = String___add__(r10,r11);
					hl_throw((vdynamic*)r10);
				case 1:
				case 2:
					r9 = r0->bytes;
					r6 = 0;
					r7 = 0;
					r12 = r0->width;
					r13 = r0->height;
					r12 = r12 * r13;
					label$d055329_7_325:
					if( r7 >= r12 ) goto label$d055329_7_356;
					++r7;
					if( r9 == NULL ) hl_null_access();
					r22 = haxe_io_Bytes_getFloat(r9,r6);
					r24 = 255.;
					r22 = r22 * r24;
					r14 = (int)r22;
					r17 = 0;
					if( r14 >= r17 ) goto label$d055329_7_338;
					r16 = 0;
					r14 = r16;
					goto label$d055329_7_342;
					label$d055329_7_338:
					r17 = 255;
					if( r17 >= r14 ) goto label$d055329_7_342;
					r16 = 255;
					r14 = r16;
					label$d055329_7_342:
					r16 = r6;
					++r6;
					*(unsigned char*)(r8 + r16) = (unsigned char)r14;
					r16 = r6;
					++r6;
					*(unsigned char*)(r8 + r16) = (unsigned char)r14;
					r16 = r6;
					++r6;
					*(unsigned char*)(r8 + r16) = (unsigned char)r14;
					r16 = r6;
					++r6;
					r18 = 255;
					*(unsigned char*)(r8 + r16) = (unsigned char)r18;
					goto label$d055329_7_325;
			}
			label$d055329_7_356:
			goto label$d055329_7_487;
		case 18:
			if( r1 == NULL ) hl_null_access();
			r6 = HL__ENUM_INDEX__(r1);
			r7 = 7;
			if( r6 != r7 ) goto label$d055329_7_399;
			r6 = r0->width;
			r7 = r0->height;
			r6 = r6 * r7;
			r7 = 4;
			r6 = r6 * r7;
			r9 = haxe_io_Bytes_alloc(r6);
			r20 = r0->bytes;
			r6 = 0;
			r7 = r0->width;
			r12 = r0->height;
			r7 = r7 * r12;
			label$d055329_7_372:
			if( r6 >= r7 ) goto label$d055329_7_397;
			r12 = r6;
			++r6;
			r14 = 1;
			r13 = r12 << r14;
			r16 = 1;
			r14 = r13 + r16;
			if( r20 == NULL ) hl_null_access();
			r16 = r20->length;
			if( ((unsigned)r14) < ((unsigned)r16) ) goto label$d055329_7_386;
			r16 = 0;
			r14 = r16;
			goto label$d055329_7_389;
			label$d055329_7_386:
			r15 = r20->b;
			r16 = *(unsigned short*)(r15 + r13);
			r14 = r16;
			label$d055329_7_389:
			if( r9 == NULL ) hl_null_access();
			r17 = 2;
			r16 = r12 << r17;
			r22 = (double)r14;
			r24 = 65535.;
			r22 = r22 / r24;
			haxe_io_Bytes_setFloat(r9,r16,r22);
			goto label$d055329_7_372;
			label$d055329_7_397:
			r0->bytes = r9;
			goto label$d055329_7_408;
			label$d055329_7_399:
			r10 = (String)s$Cannot_convert_from_;
			r4 = r0->innerFormat;
			r11 = Std_string(((vdynamic*)r4));
			r10 = String___add__(r10,r11);
			r11 = (String)s$_to_;
			r10 = String___add__(r10,r11);
			r11 = Std_string(((vdynamic*)r1));
			r10 = String___add__(r10,r11);
			hl_throw((vdynamic*)r10);
			label$d055329_7_408:
			goto label$d055329_7_487;
		case 22:
			r6 = ((hxd_PixelFormat_S3TC*)r3)->p0;
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			r12 = 22;
			if( r7 != r12 ) goto label$d055329_7_452;
			r7 = ((hxd_PixelFormat_S3TC*)r1)->p0;
			if( r6 == r7 ) goto label$d055329_7_451;
			r14 = r0->width;
			r16 = r0->height;
			r14 = r14 | r16;
			r16 = 3;
			r14 = r14 & r16;
			r16 = 0;
			if( r14 == r16 ) goto label$d055329_7_425;
			r10 = (String)s$8ceecb4;
			hl_throw((vdynamic*)r10);
			label$d055329_7_425:
			r14 = r0->width;
			r16 = r0->height;
			r14 = r14 * r16;
			r16 = 4;
			r14 = r14 * r16;
			r9 = haxe_io_Bytes_alloc(r14);
			r20 = r0->bytes;
			if( r20 == NULL ) hl_null_access();
			r15 = r20->b;
			r14 = r0->offset;
			r15 = hl_bytes_offset(r15,r14);
			if( r9 == NULL ) hl_null_access();
			r21 = r9->b;
			r14 = r0->width;
			r16 = r0->height;
			r5 = fmt_dxt_decode(r15,r21,r14,r16,r6);
			if( r5 ) goto label$d055329_7_444;
			r10 = (String)s$Failed_to_decode_DDS;
			hl_throw((vdynamic*)r10);
			label$d055329_7_444:
			r14 = 0;
			r0->offset = r14;
			r0->bytes = r9;
			r4 = (venum*)g$hxd_PixelFormat_RGBA;
			r4 = hxd_Pixels_set_innerFormat(r0,r4);
			hxd_Pixels_convert(r0,r1);
			return;
			label$d055329_7_451:
			goto label$d055329_7_487;
			label$d055329_7_452:
			r12 = r0->width;
			r13 = r0->height;
			r12 = r12 | r13;
			r13 = 3;
			r12 = r12 & r13;
			r13 = 0;
			if( r12 == r13 ) goto label$d055329_7_461;
			r10 = (String)s$8ceecb4;
			hl_throw((vdynamic*)r10);
			label$d055329_7_461:
			r12 = r0->width;
			r13 = r0->height;
			r12 = r12 * r13;
			r13 = 4;
			r12 = r12 * r13;
			r9 = haxe_io_Bytes_alloc(r12);
			r20 = r0->bytes;
			if( r20 == NULL ) hl_null_access();
			r15 = r20->b;
			r12 = r0->offset;
			r15 = hl_bytes_offset(r15,r12);
			if( r9 == NULL ) hl_null_access();
			r21 = r9->b;
			r12 = r0->width;
			r13 = r0->height;
			r5 = fmt_dxt_decode(r15,r21,r12,r13,r6);
			if( r5 ) goto label$d055329_7_480;
			r10 = (String)s$Failed_to_decode_DDS;
			hl_throw((vdynamic*)r10);
			label$d055329_7_480:
			r12 = 0;
			r0->offset = r12;
			r0->bytes = r9;
			r4 = (venum*)g$hxd_PixelFormat_RGBA;
			r4 = hxd_Pixels_set_innerFormat(r0,r4);
			hxd_Pixels_convert(r0,r1);
			return;
	}
	label$d055329_7_487:
	r3 = hxd_Pixels_set_innerFormat(r0,r1);
	return;
}

void hxd_Pixels_dispose(hxd__Pixels r0) {
	haxe__io__Bytes r1;
	r1 = NULL;
	r0->bytes = r1;
	return;
}

vbyte* hxd_Pixels___string(hxd__Pixels r0) {
	String r2;
	vbyte *r1;
	r2 = hxd_Pixels_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String hxd_Pixels_toString(hxd__Pixels r0) {
	String r1, r5;
	venum *r6;
	int *r3;
	vbyte *r4;
	int r2;
	r1 = (String)s$Pixels_;
	r2 = r0->width;
	r3 = &r2;
	r4 = hl_itos(r2,r3);
	r5 = String___alloc__(r4,r2);
	r1 = String___add__(r1,r5);
	r5 = (String)s$x;
	r1 = String___add__(r1,r5);
	r2 = r0->height;
	r3 = &r2;
	r4 = hl_itos(r2,r3);
	r5 = String___alloc__(r4,r2);
	r1 = String___add__(r1,r5);
	r5 = (String)s$7215ee9;
	r1 = String___add__(r1,r5);
	r6 = r0->innerFormat;
	r5 = Std_string(((vdynamic*)r6));
	r1 = String___add__(r1,r5);
	r5 = (String)s$9371d7a;
	r1 = String___add__(r1,r5);
	return r1;
}

haxe__io__Bytes hxd_Pixels_toPNG(hxd__Pixels r0,vdynamic* r1) {
	venum *r7;
	haxe__io__Bytes r5;
	haxe__io__BytesOutput r9;
	format__png__Writer r10;
	haxe__ds__List r8;
	int r2, r4, r6;
	if( r1 ) goto label$d055329_11_3;
	r2 = 9;
	r1 = hl_alloc_dynamic(&t$_i32);
	r1->v.i = r2;
	label$d055329_11_3:
	r2 = r0->offset;
	r4 = 0;
	if( r2 == r4 ) goto label$d055329_11_17;
	r5 = r0->bytes;
	if( r5 == NULL ) hl_null_access();
	r2 = r0->offset;
	r4 = r0->width;
	r6 = r0->height;
	r7 = r0->innerFormat;
	r4 = hxd_Pixels_calcDataSize(r4,r6,r7);
	r5 = haxe_io_Bytes_sub(r5,r2,r4);
	r0->bytes = r5;
	r2 = 0;
	r0->offset = r2;
	label$d055329_11_17:
	r7 = r0->innerFormat;
	if( r7 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r7);
	switch(r2) {
		default:
		case 1:
		case 2:
		case 3:
		case 4:
			r7 = (venum*)g$hxd_PixelFormat_BGRA;
			hxd_Pixels_convert(r0,r7);
			r2 = r0->width;
			r4 = r0->height;
			r5 = r0->bytes;
			r8 = format_png_Tools_build32BGRA(r2,r4,r5,r1);
			goto label$d055329_11_37;
		case 0:
			r2 = r0->width;
			r4 = r0->height;
			r5 = r0->bytes;
			r8 = format_png_Tools_build32ARGB(r2,r4,r5,r1);
			goto label$d055329_11_37;
		case 5:
			r2 = r0->width;
			r4 = r0->height;
			r5 = r0->bytes;
			r8 = format_png_Tools_buildGrey(r2,r4,r5,r1);
	}
	label$d055329_11_37:
	r9 = (haxe__io__BytesOutput)hl_alloc_obj(&t$haxe_io_BytesOutput);
	haxe_io_BytesOutput_new(r9);
	r10 = (format__png__Writer)hl_alloc_obj(&t$format_png_Writer);
	format_png_Writer_new(r10,((haxe__io__Output)r9));
	format_png_Writer_write(r10,r8);
	r5 = haxe_io_BytesOutput_getBytes(r9);
	return r5;
}

int hxd_Pixels_calcDataSize(int r0,int r1,venum* r2) {
	int r3, r4;
	if( r2 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r2);
	r4 = 22;
	if( r3 != r4 ) goto label$d055329_12_13;
	r4 = 3;
	r3 = r1 + r4;
	r4 = 2;
	r3 = r3 >> r4;
	r4 = 2;
	r3 = r3 << r4;
	r4 = hxd_Pixels_calcStride(r0,r2);
	r3 = r3 * r4;
	return r3;
	label$d055329_12_13:
	r4 = hxd_Pixels_calcStride(r0,r2);
	r3 = r1 * r4;
	return r3;
}

int hxd_Pixels_calcStride(int r0,venum* r1) {
	String r7;
	int r2, r3, r4, r5, r6;
	if( r1 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r1);
	switch(r2) {
		default:
			goto label$d055329_13_63;
		case 3:
		case 21:
			r3 = 8;
			r2 = r3;
			goto label$d055329_13_63;
		case 4:
			r3 = 16;
			r2 = r3;
			goto label$d055329_13_63;
		case 5:
			r3 = 1;
			r2 = r3;
			goto label$d055329_13_63;
		case 6:
		case 18:
			r3 = 2;
			r2 = r3;
			goto label$d055329_13_63;
		case 7:
			r3 = 4;
			r2 = r3;
			goto label$d055329_13_63;
		case 8:
			r3 = 2;
			r2 = r3;
			goto label$d055329_13_63;
		case 9:
		case 19:
			r3 = 4;
			r2 = r3;
			goto label$d055329_13_63;
		case 10:
			r3 = 8;
			r2 = r3;
			goto label$d055329_13_63;
		case 11:
			r3 = 3;
			r2 = r3;
			goto label$d055329_13_63;
		case 12:
		case 20:
			r3 = 6;
			r2 = r3;
			goto label$d055329_13_63;
		case 13:
			r3 = 12;
			r2 = r3;
			goto label$d055329_13_63;
		case 0:
		case 1:
		case 2:
		case 14:
		case 15:
			r3 = 4;
			r2 = r3;
			goto label$d055329_13_63;
		case 16:
			r3 = 4;
			r2 = r3;
			goto label$d055329_13_63;
		case 17:
			r3 = 4;
			r2 = r3;
			goto label$d055329_13_63;
		case 22:
			r3 = ((hxd_PixelFormat_S3TC*)r1)->p0;
			r5 = 3;
			r4 = r0 + r5;
			r5 = 2;
			r4 = r4 >> r5;
			r6 = 1;
			if( r3 == r6 ) goto label$d055329_13_55;
			r6 = 4;
			if( r3 != r6 ) goto label$d055329_13_58;
			label$d055329_13_55:
			r6 = 1;
			r5 = r4 << r6;
			return r5;
			label$d055329_13_58:
			r6 = 2;
			r5 = r4 << r6;
			return r5;
		case 23:
		case 24:
		case 25:
			r7 = (String)s$Not_a_pixel_format;
			hl_throw((vdynamic*)r7);
	}
	label$d055329_13_63:
	r3 = r0 * r2;
	return r3;
}

int hxd_Pixels_getChannelOffset(venum* r0,int r1) {
	String r8;
	hl__types__ArrayBytes_Int r3;
	vbyte *r4;
	int r2, r5, r6, r7;
	if( r0 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r0);
	switch(r2) {
		default:
			goto label$d055329_14_166;
		case 0:
			r2 = 16;
			r4 = hl_alloc_bytes(r2);
			r2 = 0;
			r5 = 1;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 2;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 3;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 0;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r2 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r2);
			if( r3 == NULL ) hl_null_access();
			r5 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r5) ) goto label$d055329_14_34;
			r2 = 0;
			goto label$d055329_14_38;
			label$d055329_14_34:
			r4 = r3->bytes;
			r5 = 2;
			r5 = r1 << r5;
			r2 = *(int*)(r4 + r5);
			label$d055329_14_38:
			return r2;
		case 1:
			r2 = 16;
			r4 = hl_alloc_bytes(r2);
			r2 = 0;
			r5 = 2;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 1;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 0;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 3;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r2 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r2);
			if( r3 == NULL ) hl_null_access();
			r5 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r5) ) goto label$d055329_14_69;
			r2 = 0;
			goto label$d055329_14_73;
			label$d055329_14_69:
			r4 = r3->bytes;
			r5 = 2;
			r5 = r1 << r5;
			r2 = *(int*)(r4 + r5);
			label$d055329_14_73:
			return r2;
		case 4:
			r5 = 4;
			r2 = r1 * r5;
			return r2;
		case 8:
		case 9:
		case 10:
		case 19:
			r2 = 1;
			r2 = hxd_Pixels_calcStride(r2,r0);
			r5 = 16;
			r4 = hl_alloc_bytes(r5);
			r5 = 0;
			r6 = 0;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r6;
			++r5;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r2;
			++r5;
			r6 = -1;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r6;
			++r5;
			r6 = -1;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r6;
			++r5;
			r5 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r5);
			if( r3 == NULL ) hl_null_access();
			r6 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r6) ) goto label$d055329_14_108;
			r5 = 0;
			goto label$d055329_14_112;
			label$d055329_14_108:
			r4 = r3->bytes;
			r6 = 2;
			r6 = r1 << r6;
			r5 = *(int*)(r4 + r6);
			label$d055329_14_112:
			return r5;
		case 2:
		case 14:
		case 15:
			return r1;
		case 16:
		case 17:
			r8 = (String)s$Bit_packed_format;
			hl_throw((vdynamic*)r8);
		case 5:
		case 6:
		case 7:
		case 18:
			r5 = 0;
			if( r1 != r5 ) goto label$d055329_14_120;
			r2 = 0;
			return r2;
			label$d055329_14_120:
			r2 = -1;
			return r2;
		case 11:
		case 12:
		case 13:
		case 20:
			r2 = 1;
			r2 = hxd_Pixels_calcStride(r2,r0);
			r5 = 16;
			r4 = hl_alloc_bytes(r5);
			r5 = 0;
			r6 = 0;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r6;
			++r5;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r2;
			++r5;
			r7 = 1;
			r6 = r2 << r7;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r6;
			++r5;
			r6 = -1;
			r7 = 2;
			r7 = r5 << r7;
			*(int*)(r4 + r7) = r6;
			++r5;
			r5 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r5);
			if( r3 == NULL ) hl_null_access();
			r6 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r6) ) goto label$d055329_14_154;
			r5 = 0;
			goto label$d055329_14_158;
			label$d055329_14_154:
			r4 = r3->bytes;
			r6 = 2;
			r6 = r1 << r6;
			r5 = *(int*)(r4 + r6);
			label$d055329_14_158:
			return r5;
		case 3:
		case 21:
			r5 = 2;
			r2 = r1 * r5;
			return r2;
		case 22:
			r8 = (String)s$Not_supported;
			hl_throw((vdynamic*)r8);
		case 23:
		case 24:
		case 25:
			r8 = (String)s$Not_supported;
			hl_throw((vdynamic*)r8);
	}
	label$d055329_14_166:
	r2 = 0;
	return r2;
}

hxd__Pixels hxd_Pixels_alloc(int r0,int r1,venum* r2) {
	hxd__Pixels r3;
	haxe__io__Bytes r4;
	int *r6;
	int r5;
	r3 = (hxd__Pixels)hl_alloc_obj(&t$hxd_Pixels);
	r5 = hxd_Pixels_calcDataSize(r0,r1,r2);
	r4 = haxe_io_Bytes_alloc(r5);
	r6 = NULL;
	hxd_Pixels_new(r3,r0,r1,r4,r2,r6);
	return r3;
}

int hxd_Pixels_toDDSLayers__$1(hl__types__ArrayObj r0,hl__types__ArrayObj r1) {
	hxd__Pixels r4;
	vdynamic *r5;
	varray *r6;
	int r2, r3, r7, r8;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$d055329_16_6;
	r4 = NULL;
	goto label$d055329_16_9;
	label$d055329_16_6:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (hxd__Pixels)r5;
	label$d055329_16_9:
	if( r4 == NULL ) hl_null_access();
	r2 = r4->width;
	r3 = 0;
	r7 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r7) ) goto label$d055329_16_16;
	r4 = NULL;
	goto label$d055329_16_19;
	label$d055329_16_16:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r3];
	r4 = (hxd__Pixels)r5;
	label$d055329_16_19:
	if( r4 == NULL ) hl_null_access();
	r3 = r4->height;
	r2 = r2 * r3;
	if( r0 == NULL ) hl_null_access();
	r3 = 0;
	r7 = r0->length;
	if( ((unsigned)r3) < ((unsigned)r7) ) goto label$d055329_16_28;
	r4 = NULL;
	goto label$d055329_16_31;
	label$d055329_16_28:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r3];
	r4 = (hxd__Pixels)r5;
	label$d055329_16_31:
	if( r4 == NULL ) hl_null_access();
	r3 = r4->width;
	r7 = 0;
	r8 = r0->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$d055329_16_38;
	r4 = NULL;
	goto label$d055329_16_41;
	label$d055329_16_38:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r7];
	r4 = (hxd__Pixels)r5;
	label$d055329_16_41:
	if( r4 == NULL ) hl_null_access();
	r7 = r4->height;
	r3 = r3 * r7;
	r2 = r2 - r3;
	return r2;
}

haxe__io__Bytes hxd_Pixels_toDDSLayers(hl__types__ArrayObj r0,bool* r1) {
	String r7, r31;
	hxd__Pixels r9, r12, r19;
	hl__types__ArrayObj r5, r16, r21;
	hl_type *r13;
	venum *r11, *r18;
	haxe__io__Bytes r36, r38;
	bool r2, r17, r22;
	vclosure *r23, *r24;
	int *r29;
	vdynamic *r8;
	vbyte *r30;
	varray *r10;
	int r4, r6, r14, r15, r20, r25, r26, r27, r28, r32, r33, r34, r35, r37, r39;
	static vclosure cl$0 = { &t$fun_1414408, hxd_Pixels_toDDSLayers__$1, 0 };
	if( r1 ) goto label$d055329_17_3;
	r2 = false;
	goto label$d055329_17_4;
	label$d055329_17_3:
	r2 = *r1;
	label$d055329_17_4:
	if( r0 == NULL ) hl_null_access();
	r4 = r0->length;
	r6 = 0;
	if( r4 != r6 ) goto label$d055329_17_10;
	r7 = (String)s$Must_contain_at_least_one_image;
	hl_throw((vdynamic*)r7);
	label$d055329_17_10:
	r4 = 0;
	r6 = r0->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$d055329_17_15;
	r9 = NULL;
	goto label$d055329_17_18;
	label$d055329_17_15:
	r10 = r0->array;
	r8 = ((vdynamic**)(r10 + 1))[r4];
	r9 = (hxd__Pixels)r8;
	label$d055329_17_18:
	if( r9 == NULL ) hl_null_access();
	r11 = r9->innerFormat;
	r13 = &t$hl_types_ArrayObj;
	r4 = 0;
	r10 = hl_alloc_array(r13,r4);
	r5 = hl_types_ArrayObj_alloc(r10);
	r4 = 0;
	r6 = 0;
	label$d055329_17_26:
	if( r0 == NULL ) hl_null_access();
	r15 = r0->length;
	if( r6 >= r15 ) goto label$d055329_17_101;
	r15 = r0->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$d055329_17_34;
	r12 = NULL;
	goto label$d055329_17_37;
	label$d055329_17_34:
	r10 = r0->array;
	r8 = ((vdynamic**)(r10 + 1))[r6];
	r12 = (hxd__Pixels)r8;
	label$d055329_17_37:
	++r6;
	if( r12 == NULL ) hl_null_access();
	r18 = r12->innerFormat;
	r17 = hl_type_enum_eq(((vdynamic*)r18),((vdynamic*)r11));
	if( r17 ) goto label$d055329_17_44;
	r7 = (String)s$61cf523;
	hl_throw((vdynamic*)r7);
	label$d055329_17_44:
	r15 = r12->dataSize;
	r14 = r4 + r15;
	r4 = r14;
	r17 = false;
	r14 = 0;
	label$d055329_17_49:
	if( r5 == NULL ) hl_null_access();
	r20 = r5->length;
	if( r14 >= r20 ) goto label$d055329_17_92;
	r20 = r5->length;
	if( ((unsigned)r14) < ((unsigned)r20) ) goto label$d055329_17_57;
	r16 = NULL;
	goto label$d055329_17_60;
	label$d055329_17_57:
	r10 = r5->array;
	r8 = ((vdynamic**)(r10 + 1))[r14];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_17_60:
	++r14;
	if( r16 == NULL ) hl_null_access();
	r15 = 0;
	r20 = r16->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_17_67;
	r19 = NULL;
	goto label$d055329_17_70;
	label$d055329_17_67:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r15];
	r19 = (hxd__Pixels)r8;
	label$d055329_17_70:
	if( r19 == NULL ) hl_null_access();
	r15 = r19->width;
	if( r12 == NULL ) hl_null_access();
	r20 = r12->width;
	if( r15 != r20 ) goto label$d055329_17_91;
	r15 = 0;
	r20 = r16->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_17_80;
	r19 = NULL;
	goto label$d055329_17_83;
	label$d055329_17_80:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r15];
	r19 = (hxd__Pixels)r8;
	label$d055329_17_83:
	if( r19 == NULL ) hl_null_access();
	r15 = r19->height;
	r20 = r12->height;
	if( r15 != r20 ) goto label$d055329_17_91;
	r15 = hl_types_ArrayObj_push(r16,((vdynamic*)r12));
	r22 = true;
	r17 = r22;
	goto label$d055329_17_92;
	label$d055329_17_91:
	goto label$d055329_17_49;
	label$d055329_17_92:
	if( r17 ) goto label$d055329_17_100;
	r13 = &t$hxd_Pixels;
	r14 = 1;
	r10 = hl_alloc_array(r13,r14);
	r14 = 0;
	((hxd__Pixels*)(r10 + 1))[r14] = r12;
	r21 = hl_types_ArrayObj_alloc(r10);
	r14 = hl_types_ArrayObj_push(r5,((vdynamic*)r21));
	label$d055329_17_100:
	goto label$d055329_17_26;
	label$d055329_17_101:
	if( r5 == NULL ) hl_null_access();
	r23 = &cl$0;
	if( r23 ) goto label$d055329_17_106;
	r24 = NULL;
	goto label$d055329_17_107;
	label$d055329_17_106:
	r24 = hl_alloc_closure_ptr(&t$fun_51b844e,hxd_Pixels_toDDSLayers__$2,r23);
	label$d055329_17_107:
	hl_types_ArrayObj_sort(r5,r24);
	r6 = 0;
	r14 = r5->length;
	if( ((unsigned)r6) < ((unsigned)r14) ) goto label$d055329_17_113;
	r16 = NULL;
	goto label$d055329_17_116;
	label$d055329_17_113:
	r10 = r5->array;
	r8 = ((vdynamic**)(r10 + 1))[r6];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_17_116:
	if( r16 == NULL ) hl_null_access();
	r6 = r16->length;
	r14 = 0;
	r15 = r5->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$d055329_17_123;
	r16 = NULL;
	goto label$d055329_17_126;
	label$d055329_17_123:
	r10 = r5->array;
	r8 = ((vdynamic**)(r10 + 1))[r14];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_17_126:
	if( r16 == NULL ) hl_null_access();
	r14 = 0;
	r15 = r16->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$d055329_17_132;
	r12 = NULL;
	goto label$d055329_17_135;
	label$d055329_17_132:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r14];
	r12 = (hxd__Pixels)r8;
	label$d055329_17_135:
	if( r12 == NULL ) hl_null_access();
	r14 = r12->width;
	r15 = 0;
	r20 = r5->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_17_142;
	r16 = NULL;
	goto label$d055329_17_145;
	label$d055329_17_142:
	r10 = r5->array;
	r8 = ((vdynamic**)(r10 + 1))[r15];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_17_145:
	if( r16 == NULL ) hl_null_access();
	r15 = 0;
	r20 = r16->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_17_151;
	r12 = NULL;
	goto label$d055329_17_154;
	label$d055329_17_151:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r15];
	r12 = (hxd__Pixels)r8;
	label$d055329_17_154:
	if( r12 == NULL ) hl_null_access();
	r15 = r12->height;
	r20 = 1;
	r25 = r5->length;
	label$d055329_17_158:
	if( r20 >= r25 ) goto label$d055329_17_262;
	r26 = r20;
	++r20;
	if( r5 == NULL ) hl_null_access();
	r28 = r5->length;
	if( ((unsigned)r26) < ((unsigned)r28) ) goto label$d055329_17_167;
	r16 = NULL;
	goto label$d055329_17_170;
	label$d055329_17_167:
	r10 = r5->array;
	r8 = ((vdynamic**)(r10 + 1))[r26];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_17_170:
	if( r16 == NULL ) hl_null_access();
	r27 = r16->length;
	if( r27 == r6 ) goto label$d055329_17_194;
	r7 = (String)s$cb05fd5;
	r27 = r26;
	r29 = &r27;
	r30 = hl_itos(r27,r29);
	r31 = String___alloc__(r30,r27);
	r7 = String___add__(r7,r31);
	r31 = (String)s$e265492;
	r7 = String___add__(r7,r31);
	r27 = r16->length;
	r29 = &r27;
	r30 = hl_itos(r27,r29);
	r31 = String___alloc__(r30,r27);
	r7 = String___add__(r7,r31);
	r31 = (String)s$_should_be_;
	r7 = String___add__(r7,r31);
	r27 = r6;
	r29 = &r27;
	r30 = hl_itos(r27,r29);
	r31 = String___alloc__(r30,r27);
	r7 = String___add__(r7,r31);
	hl_throw((vdynamic*)r7);
	label$d055329_17_194:
	r27 = r14 >> r26;
	r32 = 0;
	if( r27 != r32 ) goto label$d055329_17_199;
	r28 = 1;
	r27 = r28;
	label$d055329_17_199:
	r28 = r15 >> r26;
	r33 = 0;
	if( r28 != r33 ) goto label$d055329_17_204;
	r32 = 1;
	r28 = r32;
	label$d055329_17_204:
	r32 = 0;
	r33 = r16->length;
	if( ((unsigned)r32) < ((unsigned)r33) ) goto label$d055329_17_209;
	r12 = NULL;
	goto label$d055329_17_212;
	label$d055329_17_209:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r32];
	r12 = (hxd__Pixels)r8;
	label$d055329_17_212:
	if( r12 == NULL ) hl_null_access();
	r32 = r12->width;
	r33 = 0;
	r34 = r16->length;
	if( ((unsigned)r33) < ((unsigned)r34) ) goto label$d055329_17_219;
	r12 = NULL;
	goto label$d055329_17_222;
	label$d055329_17_219:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r33];
	r12 = (hxd__Pixels)r8;
	label$d055329_17_222:
	if( r12 == NULL ) hl_null_access();
	r33 = r12->height;
	if( r32 != r27 ) goto label$d055329_17_226;
	if( r33 == r28 ) goto label$d055329_17_261;
	label$d055329_17_226:
	r7 = (String)s$Invalid_mip_level_size_;
	r34 = r26;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r7 = String___add__(r7,r31);
	r31 = (String)s$e265492;
	r7 = String___add__(r7,r31);
	r34 = r32;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r7 = String___add__(r7,r31);
	r31 = (String)s$x;
	r7 = String___add__(r7,r31);
	r34 = r33;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r7 = String___add__(r7,r31);
	r31 = (String)s$_should_be_;
	r7 = String___add__(r7,r31);
	r34 = r27;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r7 = String___add__(r7,r31);
	r31 = (String)s$x;
	r7 = String___add__(r7,r31);
	r34 = r28;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r7 = String___add__(r7,r31);
	hl_throw((vdynamic*)r7);
	label$d055329_17_261:
	goto label$d055329_17_158;
	label$d055329_17_262:
	r25 = 128;
	r20 = r4 + r25;
	r4 = r20;
	r25 = 1;
	if( r25 >= r6 ) goto label$d055329_17_270;
	if( r2 ) goto label$d055329_17_270;
	r17 = true;
	goto label$d055329_17_271;
	label$d055329_17_270:
	r17 = false;
	label$d055329_17_271:
	if( !r17 ) goto label$d055329_17_275;
	r25 = 20;
	r20 = r4 + r25;
	r4 = r20;
	label$d055329_17_275:
	r36 = haxe_io_Bytes_alloc(r4);
	r20 = 0;
	if( r36 == NULL ) hl_null_access();
	r26 = 542327876;
	haxe_io_Bytes_setInt32(r36,r20,r26);
	r26 = 4;
	r25 = r20 + r26;
	r26 = 124;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 135183;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	haxe_io_Bytes_setInt32(r36,r25,r15);
	r26 = 4;
	r25 = r25 + r26;
	haxe_io_Bytes_setInt32(r36,r25,r14);
	r26 = 4;
	r25 = r25 + r26;
	if( r9 == NULL ) hl_null_access();
	r26 = r9->stride;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 1;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	if( r5 == NULL ) hl_null_access();
	r26 = r5->length;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 32;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r20 = r25;
	if( !r17 ) goto label$d055329_17_390;
	r26 = 4;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 808540228;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r20 = r25;
	goto label$d055329_17_498;
	label$d055329_17_390:
	if( r11 == NULL ) hl_null_access();
	r25 = HL__ENUM_INDEX__(r11);
	switch(r25) {
		default:
			r26 = 4;
			haxe_io_Bytes_setInt32(r36,r20,r26);
			r26 = 4;
			r25 = r20 + r26;
			r20 = r25;
			r25 = HL__ENUM_INDEX__(r11);
			switch(r25) {
				default:
				case 0:
				case 1:
				case 2:
				case 5:
				case 8:
					r7 = (String)s$Unsupported_format_;
					r31 = Std_string(((vdynamic*)r11));
					r7 = String___add__(r7,r31);
					hl_throw((vdynamic*)r7);
				case 3:
					r26 = 113;
					r25 = r26;
					goto label$d055329_17_421;
				case 4:
					r26 = 116;
					r25 = r26;
					goto label$d055329_17_421;
				case 6:
					r26 = 111;
					r25 = r26;
					goto label$d055329_17_421;
				case 7:
					r26 = 114;
					r25 = r26;
					goto label$d055329_17_421;
				case 9:
					r26 = 112;
					r25 = r26;
					goto label$d055329_17_421;
				case 10:
					r26 = 115;
					r25 = r26;
			}
			label$d055329_17_421:
			haxe_io_Bytes_setInt32(r36,r20,r25);
			r27 = 4;
			r26 = r20 + r27;
			r20 = r26;
			r25 = r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r20 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r20 = r25;
			goto label$d055329_17_498;
		case 0:
		case 1:
		case 2:
			r26 = 65;
			haxe_io_Bytes_setInt32(r36,r20,r26);
			r26 = 4;
			r25 = r20 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 32;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r20 = r25;
			r25 = 0;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r20,r27);
			r27 = 4;
			r26 = r20 + r27;
			r25 = 1;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r26,r27);
			r27 = 4;
			r26 = r26 + r27;
			r25 = 2;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r26,r27);
			r27 = 4;
			r26 = r26 + r27;
			r25 = 3;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r26,r27);
			r27 = 4;
			r26 = r26 + r27;
			r20 = r26;
	}
	label$d055329_17_498:
	if( !r17 ) goto label$d055329_17_501;
	r26 = 4096;
	goto label$d055329_17_517;
	label$d055329_17_501:
	if( r0 == NULL ) hl_null_access();
	r26 = r0->length;
	r27 = 1;
	if( r26 != r27 ) goto label$d055329_17_507;
	r26 = 0;
	goto label$d055329_17_508;
	label$d055329_17_507:
	r26 = 8;
	label$d055329_17_508:
	r27 = 4096;
	r26 = r26 | r27;
	r27 = r5->length;
	r28 = 1;
	if( r27 != r28 ) goto label$d055329_17_515;
	r27 = 0;
	goto label$d055329_17_516;
	label$d055329_17_515:
	r27 = 4194304;
	label$d055329_17_516:
	r26 = r26 | r27;
	label$d055329_17_517:
	haxe_io_Bytes_setInt32(r36,r20,r26);
	r26 = 4;
	r25 = r20 + r26;
	r20 = r25;
	r25 = 1536;
	r27 = 1;
	if( r27 >= r6 ) goto label$d055329_17_526;
	r26 = 2048;
	goto label$d055329_17_527;
	label$d055329_17_526:
	r26 = 0;
	label$d055329_17_527:
	r25 = r25 | r26;
	r27 = 2;
	if( r27 >= r6 ) goto label$d055329_17_532;
	r26 = 4096;
	goto label$d055329_17_533;
	label$d055329_17_532:
	r26 = 0;
	label$d055329_17_533:
	r25 = r25 | r26;
	r27 = 3;
	if( r27 >= r6 ) goto label$d055329_17_538;
	r26 = 8192;
	goto label$d055329_17_539;
	label$d055329_17_538:
	r26 = 0;
	label$d055329_17_539:
	r25 = r25 | r26;
	r27 = 4;
	if( r27 >= r6 ) goto label$d055329_17_544;
	r26 = 16384;
	goto label$d055329_17_545;
	label$d055329_17_544:
	r26 = 0;
	label$d055329_17_545:
	r25 = r25 | r26;
	r27 = 5;
	if( r27 >= r6 ) goto label$d055329_17_550;
	r26 = 32768;
	goto label$d055329_17_551;
	label$d055329_17_550:
	r26 = 0;
	label$d055329_17_551:
	r25 = r25 | r26;
	if( !r2 ) goto label$d055329_17_555;
	r27 = r25;
	goto label$d055329_17_556;
	label$d055329_17_555:
	r27 = 0;
	label$d055329_17_556:
	haxe_io_Bytes_setInt32(r36,r20,r27);
	r27 = 4;
	r26 = r20 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r20 = r26;
	if( !r17 ) goto label$d055329_17_620;
	if( r11 == NULL ) hl_null_access();
	r26 = HL__ENUM_INDEX__(r11);
	switch(r26) {
		default:
		case 0:
		case 1:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
		case 19:
		case 20:
		case 21:
			r7 = (String)s$Unsupported_DXT10_format_;
			r31 = Std_string(((vdynamic*)r11));
			r7 = String___add__(r7,r31);
			hl_throw((vdynamic*)r7);
		case 2:
			r27 = 28;
			haxe_io_Bytes_setInt32(r36,r20,r27);
			r27 = 4;
			r26 = r20 + r27;
			r20 = r26;
			goto label$d055329_17_604;
		case 22:
			r26 = ((hxd_PixelFormat_S3TC*)r11)->p0;
			switch(r26) {
				default:
				case 0:
					r7 = (String)s$Unnsupported_format_;
					r31 = Std_string(((vdynamic*)r11));
					r7 = String___add__(r7,r31);
					hl_throw((vdynamic*)r7);
				case 1:
					r28 = 71;
					r27 = r28;
					goto label$d055329_17_600;
				case 2:
					r28 = 74;
					r27 = r28;
					goto label$d055329_17_600;
				case 3:
					r28 = 77;
					r27 = r28;
			}
			label$d055329_17_600:
			haxe_io_Bytes_setInt32(r36,r20,r27);
			r32 = 4;
			r28 = r20 + r32;
			r20 = r28;
	}
	label$d055329_17_604:
	r27 = 3;
	haxe_io_Bytes_setInt32(r36,r20,r27);
	r27 = 4;
	r26 = r20 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	haxe_io_Bytes_setInt32(r36,r26,r6);
	r27 = 4;
	r26 = r26 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r20 = r26;
	label$d055329_17_620:
	r26 = 0;
	r27 = r6;
	label$d055329_17_622:
	if( r26 >= r27 ) goto label$d055329_17_660;
	r28 = r26;
	++r26;
	r32 = 0;
	if( r5 == NULL ) hl_null_access();
	r33 = r5->length;
	label$d055329_17_629:
	if( r32 >= r33 ) goto label$d055329_17_659;
	r34 = r32;
	++r32;
	if( r5 == NULL ) hl_null_access();
	r37 = r5->length;
	if( ((unsigned)r34) < ((unsigned)r37) ) goto label$d055329_17_638;
	r16 = NULL;
	goto label$d055329_17_641;
	label$d055329_17_638:
	r10 = r5->array;
	r8 = ((vdynamic**)(r10 + 1))[r34];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_17_641:
	if( r16 == NULL ) hl_null_access();
	r37 = r16->length;
	if( ((unsigned)r28) < ((unsigned)r37) ) goto label$d055329_17_646;
	r12 = NULL;
	goto label$d055329_17_649;
	label$d055329_17_646:
	r10 = r16->array;
	r8 = ((vdynamic**)(r10 + 1))[r28];
	r12 = (hxd__Pixels)r8;
	label$d055329_17_649:
	if( r36 == NULL ) hl_null_access();
	if( r12 == NULL ) hl_null_access();
	r38 = r12->bytes;
	r37 = r12->offset;
	r39 = r12->dataSize;
	haxe_io_Bytes_blit(r36,r20,r38,r37,r39);
	r37 = r12->dataSize;
	r35 = r20 + r37;
	r20 = r35;
	goto label$d055329_17_629;
	label$d055329_17_659:
	goto label$d055329_17_622;
	label$d055329_17_660:
	return r36;
}

