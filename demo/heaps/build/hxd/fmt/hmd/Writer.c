// Generated by HLC 5.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <hxd/fmt/hmd/Writer.h>
#include <hxd/fmt/hmd/Property.h>
void haxe_io_Output_writeFloat(haxe__io__Output,double);
#include <hl/types/ArrayObj.h>
extern String s$6b4f452;
#include <haxe/io/Encoding.h>
void haxe_io_Output_writeString(haxe__io__Output,String,venum*);
#include <hxd/fmt/hmd/Position.h>
#include <h3d/col/Bounds.h>
#include <hxd/fmt/hmd/Skin.h>
#include <hxd/fmt/hmd/SkinJoint.h>
#include <hxd/fmt/hmd/SkinSplit.h>
#include <hl/types/ArrayBytes_Int.h>
extern String s$;
void haxe_io_Output_writeUInt16(haxe__io__Output,int);
#include <hxd/fmt/hmd/Data.h>
#include <haxe/io/BytesOutput.h>
#include <hxd/fmt/hmd/Geometry.h>
#include <hxd/BufferFormat.h>
#include <haxe/iterators/ArrayIterator.h>
#include <hl/types/ArrayDyn.h>
#include <hxd/BufferInput.h>
#include <hxd/fmt/hmd/Material.h>
#include <h2d/BlendMode.h>
#include <hxd/fmt/hmd/Model.h>
#include <hxd/fmt/hmd/Animation.h>
#include <hxd/fmt/hmd/AnimationObject.h>
#include <hxd/fmt/hmd/AnimationEvent.h>
#include <haxe/io/Bytes.h>
extern hl_type t$haxe_io_BytesOutput;
void haxe_io_BytesOutput_new(haxe__io__BytesOutput);
extern String s$Can_t_write_HMD_v;
#include <hl/natives.h>
String String___alloc__(vbyte*,int);
String String___add__(String,String);
void haxe_io_Output_writeInt32(haxe__io__Output,int);
extern hl_type t$haxe_iterators_ArrayIterator;
extern hl_type t$hl_types_ArrayDyn;
extern hl_type t$hl_types_ArrayObj;
void haxe_iterators_ArrayIterator_new(haxe__iterators__ArrayIterator,hl__types__ArrayDyn);
extern venum* g$69da9ba;
int hl_types_ArrayObj_indexOf(hl__types__ArrayObj,vdynamic*,vdynamic*);
haxe__io__Bytes haxe_io_BytesOutput_getBytes(haxe__io__BytesOutput);
extern String s$HMD;
void haxe_io_Output_write(haxe__io__Output,haxe__io__Bytes);

void hxd_fmt_hmd_Writer_new(hxd__fmt__hmd__Writer r0,haxe__io__Output r1) {
	r0->out = r1;
	return;
}

void hxd_fmt_hmd_Writer_writeProperty(hxd__fmt__hmd__Writer r0,venum* r1) {
	haxe__io__Output r3;
	double r5;
	int r4;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r1);
	((void (*)(haxe__io__Output,int))r3->$type->vobj_proto[0])(r3,r4);
	r4 = HL__ENUM_INDEX__(r1);
	switch(r4) {
		default:
			goto label$29ff4bb_2_15;
		case 0:
			r5 = ((hxd_fmt_hmd_Property_CameraFOVY*)r1)->p0;
			r3 = r0->out;
			if( r3 == NULL ) hl_null_access();
			haxe_io_Output_writeFloat(r3,r5);
			goto label$29ff4bb_2_15;
		case 1:
			goto label$29ff4bb_2_15;
		case 2:
			goto label$29ff4bb_2_15;
		case 3:
			break;
	}
	label$29ff4bb_2_15:
	return;
}

void hxd_fmt_hmd_Writer_writeProps(hxd__fmt__hmd__Writer r0,hl__types__ArrayObj r1) {
	String r7;
	venum *r9;
	haxe__io__Output r6;
	vdynamic *r5;
	varray *r10;
	int r3, r4, r8;
	if( r1 ) goto label$29ff4bb_3_10;
	r3 = r0->version;
	r4 = 1;
	if( r3 != r4 ) goto label$29ff4bb_3_5;
	return;
	label$29ff4bb_3_5:
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r3 = 0;
	((void (*)(haxe__io__Output,int))r6->$type->vobj_proto[0])(r6,r3);
	return;
	label$29ff4bb_3_10:
	r3 = r0->version;
	r4 = 1;
	if( r3 != r4 ) goto label$29ff4bb_3_15;
	r7 = (String)s$6b4f452;
	hl_throw((vdynamic*)r7);
	label$29ff4bb_3_15:
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r3 = r1->length;
	((void (*)(haxe__io__Output,int))r6->$type->vobj_proto[0])(r6,r3);
	r3 = 0;
	label$29ff4bb_3_21:
	if( r1 == NULL ) hl_null_access();
	r8 = r1->length;
	if( r3 >= r8 ) goto label$29ff4bb_3_35;
	r8 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r8) ) goto label$29ff4bb_3_29;
	r9 = NULL;
	goto label$29ff4bb_3_32;
	label$29ff4bb_3_29:
	r10 = r1->array;
	r5 = ((vdynamic**)(r10 + 1))[r3];
	r9 = (venum*)r5;
	label$29ff4bb_3_32:
	++r3;
	hxd_fmt_hmd_Writer_writeProperty(r0,r9);
	goto label$29ff4bb_3_21;
	label$29ff4bb_3_35:
	return;
}

void hxd_fmt_hmd_Writer_writeName(hxd__fmt__hmd__Writer r0,String r1) {
	venum *r5;
	haxe__io__Output r3;
	int r4;
	if( r1 ) goto label$29ff4bb_4_6;
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r4 = 255;
	((void (*)(haxe__io__Output,int))r3->$type->vobj_proto[0])(r3,r4);
	return;
	label$29ff4bb_4_6:
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = r1->length;
	((void (*)(haxe__io__Output,int))r3->$type->vobj_proto[0])(r3,r4);
	r3 = r0->out;
	if( r3 == NULL ) hl_null_access();
	r5 = NULL;
	haxe_io_Output_writeString(r3,r1,r5);
	return;
}

void hxd_fmt_hmd_Writer_writePosition(hxd__fmt__hmd__Writer r0,hxd__fmt__hmd__Position r1,bool* r2) {
	bool r3;
	haxe__io__Output r6;
	double r4, r7, r8;
	if( r2 ) goto label$29ff4bb_5_3;
	r3 = true;
	goto label$29ff4bb_5_4;
	label$29ff4bb_5_3:
	r3 = *r2;
	label$29ff4bb_5_4:
	if( r1 == NULL ) hl_null_access();
	r4 = r1->x;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_12;
	r7 = 0.;
	goto label$29ff4bb_5_13;
	label$29ff4bb_5_12:
	r7 = r4;
	label$29ff4bb_5_13:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->y;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_21;
	r7 = 0.;
	goto label$29ff4bb_5_22;
	label$29ff4bb_5_21:
	r7 = r4;
	label$29ff4bb_5_22:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->z;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_30;
	r7 = 0.;
	goto label$29ff4bb_5_31;
	label$29ff4bb_5_30:
	r7 = r4;
	label$29ff4bb_5_31:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->qx;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_39;
	r7 = 0.;
	goto label$29ff4bb_5_40;
	label$29ff4bb_5_39:
	r7 = r4;
	label$29ff4bb_5_40:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->qy;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_48;
	r7 = 0.;
	goto label$29ff4bb_5_49;
	label$29ff4bb_5_48:
	r7 = r4;
	label$29ff4bb_5_49:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->qz;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_57;
	r7 = 0.;
	goto label$29ff4bb_5_58;
	label$29ff4bb_5_57:
	r7 = r4;
	label$29ff4bb_5_58:
	haxe_io_Output_writeFloat(r6,r7);
	if( !r3 ) goto label$29ff4bb_5_87;
	r4 = r1->sx;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_67;
	r7 = 0.;
	goto label$29ff4bb_5_68;
	label$29ff4bb_5_67:
	r7 = r4;
	label$29ff4bb_5_68:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->sy;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_76;
	r7 = 0.;
	goto label$29ff4bb_5_77;
	label$29ff4bb_5_76:
	r7 = r4;
	label$29ff4bb_5_77:
	haxe_io_Output_writeFloat(r6,r7);
	r4 = r1->sz;
	r6 = r0->out;
	if( r6 == NULL ) hl_null_access();
	r8 = 0.;
	if( r4 != r8 ) goto label$29ff4bb_5_85;
	r7 = 0.;
	goto label$29ff4bb_5_86;
	label$29ff4bb_5_85:
	r7 = r4;
	label$29ff4bb_5_86:
	haxe_io_Output_writeFloat(r6,r7);
	label$29ff4bb_5_87:
	return;
}

void hxd_fmt_hmd_Writer_writeBounds(hxd__fmt__hmd__Writer r0,h3d__col__Bounds r1) {
	haxe__io__Output r4;
	double r2, r5, r6;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->xMin;
	r4 = r0->out;
	if( r4 == NULL ) hl_null_access();
	r6 = 0.;
	if( r2 != r6 ) goto label$29ff4bb_6_8;
	r5 = 0.;
	goto label$29ff4bb_6_9;
	label$29ff4bb_6_8:
	r5 = r2;
	label$29ff4bb_6_9:
	haxe_io_Output_writeFloat(r4,r5);
	r2 = r1->yMin;
	r4 = r0->out;
	if( r4 == NULL ) hl_null_access();
	r6 = 0.;
	if( r2 != r6 ) goto label$29ff4bb_6_17;
	r5 = 0.;
	goto label$29ff4bb_6_18;
	label$29ff4bb_6_17:
	r5 = r2;
	label$29ff4bb_6_18:
	haxe_io_Output_writeFloat(r4,r5);
	r2 = r1->zMin;
	r4 = r0->out;
	if( r4 == NULL ) hl_null_access();
	r6 = 0.;
	if( r2 != r6 ) goto label$29ff4bb_6_26;
	r5 = 0.;
	goto label$29ff4bb_6_27;
	label$29ff4bb_6_26:
	r5 = r2;
	label$29ff4bb_6_27:
	haxe_io_Output_writeFloat(r4,r5);
	r2 = r1->xMax;
	r4 = r0->out;
	if( r4 == NULL ) hl_null_access();
	r6 = 0.;
	if( r2 != r6 ) goto label$29ff4bb_6_35;
	r5 = 0.;
	goto label$29ff4bb_6_36;
	label$29ff4bb_6_35:
	r5 = r2;
	label$29ff4bb_6_36:
	haxe_io_Output_writeFloat(r4,r5);
	r2 = r1->yMax;
	r4 = r0->out;
	if( r4 == NULL ) hl_null_access();
	r6 = 0.;
	if( r2 != r6 ) goto label$29ff4bb_6_44;
	r5 = 0.;
	goto label$29ff4bb_6_45;
	label$29ff4bb_6_44:
	r5 = r2;
	label$29ff4bb_6_45:
	haxe_io_Output_writeFloat(r4,r5);
	r2 = r1->zMax;
	r4 = r0->out;
	if( r4 == NULL ) hl_null_access();
	r6 = 0.;
	if( r2 != r6 ) goto label$29ff4bb_6_53;
	r5 = 0.;
	goto label$29ff4bb_6_54;
	label$29ff4bb_6_53:
	r5 = r2;
	label$29ff4bb_6_54:
	haxe_io_Output_writeFloat(r4,r5);
	return;
}

void hxd_fmt_hmd_Writer_writeSkin(hxd__fmt__hmd__Writer r0,hxd__fmt__hmd__Skin r1) {
	bool *r18;
	String r3;
	hl__types__ArrayObj r4, r9;
	bool r13, r17, r19;
	hl__types__ArrayBytes_Int r21;
	hxd__fmt__hmd__SkinSplit r20;
	haxe__io__Output r5;
	double r14, r16;
	hxd__fmt__hmd__Position r15;
	vdynamic *r11;
	vbyte *r23;
	varray *r12;
	hxd__fmt__hmd__SkinJoint r10;
	int r6, r7, r8, r22;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->name;
	if( r3 ) goto label$29ff4bb_7_5;
	r3 = (String)s$;
	goto label$29ff4bb_7_6;
	label$29ff4bb_7_5:
	r3 = r1->name;
	label$29ff4bb_7_6:
	hxd_fmt_hmd_Writer_writeName(r0,r3);
	r4 = r1->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r4);
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	r4 = r1->joints;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	haxe_io_Output_writeUInt16(r5,r6);
	r6 = 0;
	r4 = r1->joints;
	label$29ff4bb_7_17:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->length;
	if( r6 >= r8 ) goto label$29ff4bb_7_98;
	r8 = r4->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$29ff4bb_7_25;
	r10 = NULL;
	goto label$29ff4bb_7_28;
	label$29ff4bb_7_25:
	r12 = r4->array;
	r11 = ((vdynamic**)(r12 + 1))[r6];
	r10 = (hxd__fmt__hmd__SkinJoint)r11;
	label$29ff4bb_7_28:
	++r6;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r9);
	r3 = r10->name;
	hxd_fmt_hmd_Writer_writeName(r0,r3);
	r15 = r10->position;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->sx;
	r16 = 1.;
	if( r14 != r16 ) goto label$29ff4bb_7_68;
	r15 = r10->position;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->sy;
	r16 = 1.;
	if( r14 != r16 ) goto label$29ff4bb_7_68;
	r15 = r10->position;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->sz;
	r16 = 1.;
	if( r14 != r16 ) goto label$29ff4bb_7_68;
	r15 = r10->transpos;
	if( !r15 ) goto label$29ff4bb_7_66;
	r15 = r10->transpos;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->sx;
	r16 = 1.;
	if( r14 != r16 ) goto label$29ff4bb_7_68;
	r15 = r10->transpos;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->sy;
	r16 = 1.;
	if( r14 != r16 ) goto label$29ff4bb_7_68;
	r15 = r10->transpos;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->sz;
	r16 = 1.;
	if( r14 != r16 ) goto label$29ff4bb_7_68;
	label$29ff4bb_7_66:
	r13 = false;
	goto label$29ff4bb_7_69;
	label$29ff4bb_7_68:
	r13 = true;
	label$29ff4bb_7_69:
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	r7 = r10->parent;
	r8 = 1;
	r7 = r7 + r8;
	if( !r13 ) goto label$29ff4bb_7_77;
	r8 = 32768;
	goto label$29ff4bb_7_78;
	label$29ff4bb_7_77:
	r8 = 0;
	label$29ff4bb_7_78:
	r7 = r7 | r8;
	haxe_io_Output_writeUInt16(r5,r7);
	r15 = r10->position;
	r17 = r13;
	r18 = &r17;
	hxd_fmt_hmd_Writer_writePosition(r0,r15,r18);
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	r7 = r10->bind;
	r8 = 1;
	r7 = r7 + r8;
	haxe_io_Output_writeUInt16(r5,r7);
	r7 = r10->bind;
	r8 = 0;
	if( r7 < r8 ) goto label$29ff4bb_7_97;
	r15 = r10->transpos;
	r19 = r13;
	r18 = &r19;
	hxd_fmt_hmd_Writer_writePosition(r0,r15,r18);
	label$29ff4bb_7_97:
	goto label$29ff4bb_7_17;
	label$29ff4bb_7_98:
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = r1->split;
	if( r4 ) goto label$29ff4bb_7_105;
	r6 = 0;
	goto label$29ff4bb_7_108;
	label$29ff4bb_7_105:
	r4 = r1->split;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	label$29ff4bb_7_108:
	((void (*)(haxe__io__Output,int))r5->$type->vobj_proto[0])(r5,r6);
	r4 = r1->split;
	if( !r4 ) goto label$29ff4bb_7_156;
	r6 = 0;
	r4 = r1->split;
	label$29ff4bb_7_113:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->length;
	if( r6 >= r8 ) goto label$29ff4bb_7_156;
	r8 = r4->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$29ff4bb_7_121;
	r20 = NULL;
	goto label$29ff4bb_7_124;
	label$29ff4bb_7_121:
	r12 = r4->array;
	r11 = ((vdynamic**)(r12 + 1))[r6];
	r20 = (hxd__fmt__hmd__SkinSplit)r11;
	label$29ff4bb_7_124:
	++r6;
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	if( r20 == NULL ) hl_null_access();
	r7 = r20->materialIndex;
	((void (*)(haxe__io__Output,int))r5->$type->vobj_proto[0])(r5,r7);
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	r21 = r20->joints;
	if( r21 == NULL ) hl_null_access();
	r7 = r21->length;
	((void (*)(haxe__io__Output,int))r5->$type->vobj_proto[0])(r5,r7);
	r7 = 0;
	r21 = r20->joints;
	label$29ff4bb_7_138:
	if( r21 == NULL ) hl_null_access();
	r22 = r21->length;
	if( r7 >= r22 ) goto label$29ff4bb_7_155;
	r22 = r21->length;
	if( ((unsigned)r7) < ((unsigned)r22) ) goto label$29ff4bb_7_146;
	r8 = 0;
	goto label$29ff4bb_7_150;
	label$29ff4bb_7_146:
	r23 = r21->bytes;
	r22 = 2;
	r22 = r7 << r22;
	r8 = *(int*)(r23 + r22);
	label$29ff4bb_7_150:
	++r7;
	r5 = r0->out;
	if( r5 == NULL ) hl_null_access();
	haxe_io_Output_writeUInt16(r5,r8);
	goto label$29ff4bb_7_138;
	label$29ff4bb_7_155:
	goto label$29ff4bb_7_113;
	label$29ff4bb_7_156:
	return;
}

void hxd_fmt_hmd_Writer_write(hxd__fmt__hmd__Writer r0,hxd__fmt__hmd__Data r1) {
	hxd__fmt__hmd__Skin r34;
	bool *r33;
	hxd__fmt__hmd__Model r31;
	String r7, r10;
	hxd__fmt__hmd__Material r26;
	hxd__fmt__hmd__AnimationEvent r41;
	hl__types__ArrayObj r12, r15, r38;
	venum *r27, *r29, *r43;
	haxe__io__Bytes r42, r44;
	bool r21;
	h3d__col__Bounds r25;
	haxe__iterators__ArrayIterator r19;
	hl__types__ArrayBytes_Int r24;
	hxd__BufferInput r22;
	hxd__fmt__hmd__Geometry r16;
	hxd__fmt__hmd__AnimationObject r39;
	haxe__io__BytesOutput r4;
	hxd__fmt__hmd__Animation r35;
	haxe__io__Output r2, r13;
	hxd__BufferFormat r18;
	double r28, r36, r37;
	hl__types__ArrayDyn r20;
	hxd__fmt__hmd__Position r32;
	vdynamic *r11, *r30;
	int *r8;
	varray *r17;
	vbyte *r9;
	int r5, r6, r14, r23, r40;
	r2 = r0->out;
	r4 = (haxe__io__BytesOutput)hl_alloc_obj(&t$haxe_io_BytesOutput);
	haxe_io_BytesOutput_new(r4);
	r0->out = ((haxe__io__Output)r4);
	if( r1 == NULL ) hl_null_access();
	r5 = r1->version;
	r0->version = r5;
	r5 = r0->version;
	r6 = 3;
	if( r6 >= r5 ) goto label$29ff4bb_8_17;
	r7 = (String)s$Can_t_write_HMD_v;
	r5 = r0->version;
	r8 = &r5;
	r9 = hl_itos(r5,r8);
	r10 = String___alloc__(r9,r5);
	r7 = String___add__(r7,r10);
	hl_throw((vdynamic*)r7);
	label$29ff4bb_8_17:
	r12 = r1->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r12);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r12 = r1->geometries;
	if( r12 == NULL ) hl_null_access();
	r5 = r12->length;
	haxe_io_Output_writeInt32(r13,r5);
	r5 = 0;
	r12 = r1->geometries;
	label$29ff4bb_8_27:
	if( r12 == NULL ) hl_null_access();
	r14 = r12->length;
	if( r5 >= r14 ) goto label$29ff4bb_8_138;
	r14 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r14) ) goto label$29ff4bb_8_35;
	r16 = NULL;
	goto label$29ff4bb_8_38;
	label$29ff4bb_8_35:
	r17 = r12->array;
	r11 = ((vdynamic**)(r17 + 1))[r5];
	r16 = (hxd__fmt__hmd__Geometry)r11;
	label$29ff4bb_8_38:
	++r5;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r15);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = r16->vertexCount;
	haxe_io_Output_writeInt32(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r18 = r16->vertexFormat;
	if( r18 == NULL ) hl_null_access();
	r6 = r18->stride;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r18 = r16->vertexFormat;
	if( r18 == NULL ) hl_null_access();
	r15 = r18->inputs;
	if( r15 == NULL ) hl_null_access();
	r6 = r15->length;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r19 = (haxe__iterators__ArrayIterator)hl_alloc_obj(&t$haxe_iterators_ArrayIterator);
	r18 = r16->vertexFormat;
	if( r18 == NULL ) hl_null_access();
	r15 = r18->inputs;
	r20 = (hl__types__ArrayDyn)hl_dyn_castp(&r15,&t$hl_types_ArrayObj,&t$hl_types_ArrayDyn);
	haxe_iterators_ArrayIterator_new(r19,r20);
	label$29ff4bb_8_66:
	if( r19 == NULL ) hl_null_access();
	r21 = ((bool (*)(haxe__iterators__ArrayIterator))r19->$type->vobj_proto[0])(r19);
	if( !r21 ) goto label$29ff4bb_8_84;
	r11 = ((vdynamic* (*)(haxe__iterators__ArrayIterator))r19->$type->vobj_proto[1])(r19);
	r22 = (hxd__BufferInput)r11;
	if( r22 == NULL ) hl_null_access();
	r7 = r22->name;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = r22->type;
	r14 = r22->precision;
	r23 = 4;
	r14 = r14 << r23;
	r6 = r6 | r14;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	goto label$29ff4bb_8_66;
	label$29ff4bb_8_84:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r16 == NULL ) hl_null_access();
	r6 = r16->vertexPosition;
	haxe_io_Output_writeInt32(r13,r6);
	r24 = r16->indexCounts;
	if( r24 == NULL ) hl_null_access();
	r6 = r24->length;
	r14 = 255;
	if( r6 < r14 ) goto label$29ff4bb_8_105;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = 255;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r24 = r16->indexCounts;
	if( r24 == NULL ) hl_null_access();
	r6 = r24->length;
	haxe_io_Output_writeInt32(r13,r6);
	goto label$29ff4bb_8_111;
	label$29ff4bb_8_105:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r24 = r16->indexCounts;
	if( r24 == NULL ) hl_null_access();
	r6 = r24->length;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	label$29ff4bb_8_111:
	r6 = 0;
	r24 = r16->indexCounts;
	label$29ff4bb_8_113:
	if( r24 == NULL ) hl_null_access();
	r23 = r24->length;
	if( r6 >= r23 ) goto label$29ff4bb_8_130;
	r23 = r24->length;
	if( ((unsigned)r6) < ((unsigned)r23) ) goto label$29ff4bb_8_121;
	r14 = 0;
	goto label$29ff4bb_8_125;
	label$29ff4bb_8_121:
	r9 = r24->bytes;
	r23 = 2;
	r23 = r6 << r23;
	r14 = *(int*)(r9 + r23);
	label$29ff4bb_8_125:
	++r6;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	haxe_io_Output_writeInt32(r13,r14);
	goto label$29ff4bb_8_113;
	label$29ff4bb_8_130:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r16 == NULL ) hl_null_access();
	r6 = r16->indexPosition;
	haxe_io_Output_writeInt32(r13,r6);
	r25 = r16->bounds;
	hxd_fmt_hmd_Writer_writeBounds(r0,r25);
	goto label$29ff4bb_8_27;
	label$29ff4bb_8_138:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r12 = r1->materials;
	if( r12 == NULL ) hl_null_access();
	r5 = r12->length;
	haxe_io_Output_writeInt32(r13,r5);
	r5 = 0;
	r12 = r1->materials;
	label$29ff4bb_8_147:
	if( r12 == NULL ) hl_null_access();
	r14 = r12->length;
	if( r5 >= r14 ) goto label$29ff4bb_8_194;
	r14 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r14) ) goto label$29ff4bb_8_155;
	r26 = NULL;
	goto label$29ff4bb_8_158;
	label$29ff4bb_8_155:
	r17 = r12->array;
	r11 = ((vdynamic**)(r17 + 1))[r5];
	r26 = (hxd__fmt__hmd__Material)r11;
	label$29ff4bb_8_158:
	++r5;
	if( r26 == NULL ) hl_null_access();
	r15 = r26->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r15);
	r7 = r26->name;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r7 = r26->diffuseTexture;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r27 = r26->blendMode;
	if( r27 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r27);
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = 1;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r28 = 1.;
	haxe_io_Output_writeFloat(r13,r28);
	r15 = r26->props;
	if( !r15 ) goto label$29ff4bb_8_193;
	r15 = r26->props;
	if( r15 == NULL ) hl_null_access();
	r29 = (venum*)g$69da9ba;
	r30 = NULL;
	r6 = hl_types_ArrayObj_indexOf(r15,((vdynamic*)r29),r30);
	r14 = 0;
	if( r6 < r14 ) goto label$29ff4bb_8_193;
	r7 = r26->specularTexture;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r7 = r26->normalMap;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	label$29ff4bb_8_193:
	goto label$29ff4bb_8_147;
	label$29ff4bb_8_194:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r12 = r1->models;
	if( r12 == NULL ) hl_null_access();
	r5 = r12->length;
	haxe_io_Output_writeInt32(r13,r5);
	r5 = 0;
	r12 = r1->models;
	label$29ff4bb_8_203:
	if( r12 == NULL ) hl_null_access();
	r14 = r12->length;
	if( r5 >= r14 ) goto label$29ff4bb_8_291;
	r14 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r14) ) goto label$29ff4bb_8_211;
	r31 = NULL;
	goto label$29ff4bb_8_214;
	label$29ff4bb_8_211:
	r17 = r12->array;
	r11 = ((vdynamic**)(r17 + 1))[r5];
	r31 = (hxd__fmt__hmd__Model)r11;
	label$29ff4bb_8_214:
	++r5;
	if( r31 == NULL ) hl_null_access();
	r15 = r31->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r15);
	r7 = r31->name;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = r31->parent;
	r14 = 1;
	r6 = r6 + r14;
	haxe_io_Output_writeInt32(r13,r6);
	r7 = r31->follow;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r32 = r31->position;
	r33 = NULL;
	hxd_fmt_hmd_Writer_writePosition(r0,r32,r33);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = r31->geometry;
	r14 = 1;
	r6 = r6 + r14;
	haxe_io_Output_writeInt32(r13,r6);
	r6 = r31->geometry;
	r14 = 0;
	if( r6 >= r14 ) goto label$29ff4bb_8_241;
	goto label$29ff4bb_8_203;
	label$29ff4bb_8_241:
	r24 = r31->materials;
	if( r24 == NULL ) hl_null_access();
	r6 = r24->length;
	r14 = 255;
	if( r6 < r14 ) goto label$29ff4bb_8_257;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = 255;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r24 = r31->materials;
	if( r24 == NULL ) hl_null_access();
	r6 = r24->length;
	haxe_io_Output_writeInt32(r13,r6);
	goto label$29ff4bb_8_263;
	label$29ff4bb_8_257:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r24 = r31->materials;
	if( r24 == NULL ) hl_null_access();
	r6 = r24->length;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	label$29ff4bb_8_263:
	r6 = 0;
	r24 = r31->materials;
	label$29ff4bb_8_265:
	if( r24 == NULL ) hl_null_access();
	r23 = r24->length;
	if( r6 >= r23 ) goto label$29ff4bb_8_282;
	r23 = r24->length;
	if( ((unsigned)r6) < ((unsigned)r23) ) goto label$29ff4bb_8_273;
	r14 = 0;
	goto label$29ff4bb_8_277;
	label$29ff4bb_8_273:
	r9 = r24->bytes;
	r23 = 2;
	r23 = r6 << r23;
	r14 = *(int*)(r9 + r23);
	label$29ff4bb_8_277:
	++r6;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	haxe_io_Output_writeInt32(r13,r14);
	goto label$29ff4bb_8_265;
	label$29ff4bb_8_282:
	if( r31 == NULL ) hl_null_access();
	r34 = r31->skin;
	if( r34 ) goto label$29ff4bb_8_288;
	r7 = NULL;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	goto label$29ff4bb_8_290;
	label$29ff4bb_8_288:
	r34 = r31->skin;
	hxd_fmt_hmd_Writer_writeSkin(r0,r34);
	label$29ff4bb_8_290:
	goto label$29ff4bb_8_203;
	label$29ff4bb_8_291:
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r12 = r1->animations;
	if( r12 == NULL ) hl_null_access();
	r5 = r12->length;
	haxe_io_Output_writeInt32(r13,r5);
	r5 = 0;
	r12 = r1->animations;
	label$29ff4bb_8_300:
	if( r12 == NULL ) hl_null_access();
	r14 = r12->length;
	if( r5 >= r14 ) goto label$29ff4bb_8_444;
	r14 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r14) ) goto label$29ff4bb_8_308;
	r35 = NULL;
	goto label$29ff4bb_8_311;
	label$29ff4bb_8_308:
	r17 = r12->array;
	r11 = ((vdynamic**)(r17 + 1))[r5];
	r35 = (hxd__fmt__hmd__Animation)r11;
	label$29ff4bb_8_311:
	++r5;
	if( r35 == NULL ) hl_null_access();
	r15 = r35->props;
	hxd_fmt_hmd_Writer_writeProps(r0,r15);
	r7 = r35->name;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = r35->frames;
	haxe_io_Output_writeInt32(r13,r6);
	r28 = r35->sampling;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r37 = 0.;
	if( r28 != r37 ) goto label$29ff4bb_8_328;
	r36 = 0.;
	goto label$29ff4bb_8_329;
	label$29ff4bb_8_328:
	r36 = r28;
	label$29ff4bb_8_329:
	haxe_io_Output_writeFloat(r13,r36);
	r28 = r35->speed;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r37 = 0.;
	if( r28 != r37 ) goto label$29ff4bb_8_337;
	r36 = 0.;
	goto label$29ff4bb_8_338;
	label$29ff4bb_8_337:
	r36 = r28;
	label$29ff4bb_8_338:
	haxe_io_Output_writeFloat(r13,r36);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r21 = r35->loop;
	if( !r21 ) goto label$29ff4bb_8_345;
	r6 = 1;
	goto label$29ff4bb_8_346;
	label$29ff4bb_8_345:
	r6 = 0;
	label$29ff4bb_8_346:
	r15 = r35->events;
	if( !r15 ) goto label$29ff4bb_8_350;
	r14 = 2;
	goto label$29ff4bb_8_351;
	label$29ff4bb_8_350:
	r14 = 0;
	label$29ff4bb_8_351:
	r6 = r6 | r14;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r6 = r35->dataPosition;
	haxe_io_Output_writeInt32(r13,r6);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r15 = r35->objects;
	if( r15 == NULL ) hl_null_access();
	r6 = r15->length;
	haxe_io_Output_writeInt32(r13,r6);
	r6 = 0;
	r15 = r35->objects;
	label$29ff4bb_8_365:
	if( r15 == NULL ) hl_null_access();
	r23 = r15->length;
	if( r6 >= r23 ) goto label$29ff4bb_8_412;
	r23 = r15->length;
	if( ((unsigned)r6) < ((unsigned)r23) ) goto label$29ff4bb_8_373;
	r39 = NULL;
	goto label$29ff4bb_8_376;
	label$29ff4bb_8_373:
	r17 = r15->array;
	r11 = ((vdynamic**)(r17 + 1))[r6];
	r39 = (hxd__fmt__hmd__AnimationObject)r11;
	label$29ff4bb_8_376:
	++r6;
	if( r39 == NULL ) hl_null_access();
	r7 = r39->name;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r14 = r39->flags;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r14);
	r14 = r39->flags;
	r23 = 64;
	r14 = r14 & r23;
	r23 = 0;
	if( r14 == r23 ) goto label$29ff4bb_8_411;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r38 = r39->props;
	if( r38 == NULL ) hl_null_access();
	r14 = r38->length;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r14);
	r14 = 0;
	r38 = r39->props;
	label$29ff4bb_8_397:
	if( r38 == NULL ) hl_null_access();
	r40 = r38->length;
	if( r14 >= r40 ) goto label$29ff4bb_8_411;
	r40 = r38->length;
	if( ((unsigned)r14) < ((unsigned)r40) ) goto label$29ff4bb_8_405;
	r7 = NULL;
	goto label$29ff4bb_8_408;
	label$29ff4bb_8_405:
	r17 = r38->array;
	r11 = ((vdynamic**)(r17 + 1))[r14];
	r7 = (String)r11;
	label$29ff4bb_8_408:
	++r14;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	goto label$29ff4bb_8_397;
	label$29ff4bb_8_411:
	goto label$29ff4bb_8_365;
	label$29ff4bb_8_412:
	if( r35 == NULL ) hl_null_access();
	r15 = r35->events;
	if( !r15 ) goto label$29ff4bb_8_443;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r15 = r35->events;
	if( r15 == NULL ) hl_null_access();
	r6 = r15->length;
	haxe_io_Output_writeInt32(r13,r6);
	r6 = 0;
	r15 = r35->events;
	label$29ff4bb_8_423:
	if( r15 == NULL ) hl_null_access();
	r23 = r15->length;
	if( r6 >= r23 ) goto label$29ff4bb_8_443;
	r23 = r15->length;
	if( ((unsigned)r6) < ((unsigned)r23) ) goto label$29ff4bb_8_431;
	r41 = NULL;
	goto label$29ff4bb_8_434;
	label$29ff4bb_8_431:
	r17 = r15->array;
	r11 = ((vdynamic**)(r17 + 1))[r6];
	r41 = (hxd__fmt__hmd__AnimationEvent)r11;
	label$29ff4bb_8_434:
	++r6;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r41 == NULL ) hl_null_access();
	r14 = r41->frame;
	haxe_io_Output_writeInt32(r13,r14);
	r7 = r41->data;
	hxd_fmt_hmd_Writer_writeName(r0,r7);
	goto label$29ff4bb_8_423;
	label$29ff4bb_8_443:
	goto label$29ff4bb_8_300;
	label$29ff4bb_8_444:
	if( r4 == NULL ) hl_null_access();
	r42 = haxe_io_BytesOutput_getBytes(r4);
	r0->out = r2;
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r7 = (String)s$HMD;
	r43 = NULL;
	haxe_io_Output_writeString(r13,r7,r43);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r5 = r1->version;
	((void (*)(haxe__io__Output,int))r13->$type->vobj_proto[0])(r13,r5);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	if( r42 == NULL ) hl_null_access();
	r5 = r42->length;
	r6 = 12;
	r5 = r5 + r6;
	haxe_io_Output_writeInt32(r13,r5);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	haxe_io_Output_write(r13,r42);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r44 = r1->data;
	if( r44 == NULL ) hl_null_access();
	r5 = r44->length;
	haxe_io_Output_writeInt32(r13,r5);
	r13 = r0->out;
	if( r13 == NULL ) hl_null_access();
	r44 = r1->data;
	haxe_io_Output_write(r13,r44);
	return;
}

