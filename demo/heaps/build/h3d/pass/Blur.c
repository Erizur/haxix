// Generated by HLC 5.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h3d/pass/Blur.h>
#include <_std/Math.h>
#include <hl/natives.h>
extern $Math g$_Math;
hl__types__ArrayBytes_Float hl_types_ArrayBase_allocF64(vbyte*,int);
void hl_types_ArrayBytes_Float___expand(hl__types__ArrayBytes_Float,int);
vdynamic* hl_types_ArrayBytes_Float_pop(hl__types__ArrayBytes_Float);
#include <h3d/impl/RenderContext.h>
#include <h3d/mat/Texture.h>
#include <h3d/Vector4Impl.h>
#include <h3d/shader/Blur.h>
#include <h2d/BlendMode.h>
#include <h3d/impl/TextureCache.h>
#include <hxd/PixelFormat.h>
#include <h3d/VectorImpl.h>
#include <h3d/DepthBinding.h>
#include <h3d/MatrixImpl.h>
void h3d_pass_Copy_run(h3d__mat__Texture,h3d__mat__Texture,venum*,h3d__mat__Pass,vdynamic*);
extern String s$BlurTmp;
String String___add__(String,String);
h3d__mat__Texture h3d_impl_TextureCache_allocTarget(h3d__impl__TextureCache,String,int,int,bool*,venum*,bool*);
h3d__Engine h3d_pass_ScreenFx_get_engine(h3d__pass__ScreenFx);
void h3d_Engine_pushTarget(h3d__Engine,h3d__mat__Texture,int*,int*,venum*);
void h3d_pass_ScreenFx_render(h3d__pass__ScreenFx);
void h3d_Engine_popTarget(h3d__Engine);
extern hl_type t$h3d_MatrixImpl;
h3d__MatrixImpl h3d__Matrix_Matrix_Impl__L(hl__types__ArrayBytes_Float);
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$h3d_shader_Blur;
void h3d_shader_Blur_new(h3d__shader__Blur);
void h3d_pass_ScreenFx_new(h3d__pass__ScreenFx,h3d__shader__ScreenShader,hl__types__ArrayObj);

double h3d_pass_Blur_set_radius(h3d__pass__Blur r0,double r1) {
	hl__types__ArrayBytes_Float r3;
	double r2;
	r2 = r0->radius;
	if( r2 != r1 ) goto label$6a30651_1_3;
	return r1;
	label$6a30651_1_3:
	r3 = NULL;
	r0->values = r3;
	r0->radius = r1;
	return r1;
}

double h3d_pass_Blur_set_quality(h3d__pass__Blur r0,double r1) {
	hl__types__ArrayBytes_Float r3;
	double r2;
	r2 = r0->quality;
	if( r2 != r1 ) goto label$6a30651_2_3;
	return r1;
	label$6a30651_2_3:
	r3 = NULL;
	r0->values = r3;
	r0->quality = r1;
	return r1;
}

double h3d_pass_Blur_set_gain(h3d__pass__Blur r0,double r1) {
	hl__types__ArrayBytes_Float r3;
	double r2;
	r2 = r0->gain;
	if( r2 != r1 ) goto label$6a30651_3_3;
	return r1;
	label$6a30651_3_3:
	r3 = NULL;
	r0->values = r3;
	r0->gain = r1;
	return r1;
}

double h3d_pass_Blur_set_linear(h3d__pass__Blur r0,double r1) {
	hl__types__ArrayBytes_Float r3;
	double r2;
	r2 = r0->linear;
	if( r2 != r1 ) goto label$6a30651_4_3;
	return r1;
	label$6a30651_4_3:
	r3 = NULL;
	r0->values = r3;
	r0->linear = r1;
	return r1;
}

double h3d_pass_Blur_gauss(h3d__pass__Blur r0,double r1,double r2) {
	$Math r8;
	double r3, r4, r5, r6, r7;
	r4 = 0.;
	if( !(r4 >= r2) ) goto label$6a30651_5_8;
	r4 = 0.;
	if( r1 != r4 ) goto label$6a30651_5_6;
	r3 = 1.;
	return r3;
	label$6a30651_5_6:
	r3 = 0.;
	return r3;
	label$6a30651_5_8:
	r3 = r2 * r2;
	r4 = 2.718281828458999794;
	r5 = r1 * r1;
	r5 = -r5;
	r6 = 2.;
	r6 = r6 * r3;
	r5 = r5 / r6;
	r4 = hl_math_pow(r4,r5);
	r6 = 2.;
	r8 = ($Math)g$_Math;
	r7 = r8->PI;
	r6 = r6 * r7;
	r6 = r6 * r3;
	r6 = hl_math_sqrt(r6);
	r5 = r4 / r6;
	return r5;
}

void h3d_pass_Blur_calcValues(h3d__pass__Blur r0) {
	hl__types__ArrayBytes_Float r1, r25;
	double r4, r6, r7, r8, r9, r10, r11, r13, r19, r20, r23, r24, r27, r28;
	vdynamic *r26;
	int r3, r12, r14, r15, r16, r17, r18, r21, r22;
	vbyte *r2;
	r3 = 0;
	r2 = hl_alloc_bytes(r3);
	r3 = 0;
	r3 = 0;
	r1 = hl_types_ArrayBase_allocF64(r2,r3);
	r0->values = r1;
	r3 = 0;
	r2 = hl_alloc_bytes(r3);
	r3 = 0;
	r3 = 0;
	r1 = hl_types_ArrayBase_allocF64(r2,r3);
	r0->offsets = r1;
	r4 = 0.;
	r6 = r0->quality;
	r7 = 0.;
	r8 = 1.;
	if( !(r6 < r7) ) goto label$6a30651_6_19;
	r9 = r7;
	goto label$6a30651_6_23;
	label$6a30651_6_19:
	if( !(r8 < r6) ) goto label$6a30651_6_22;
	r9 = r8;
	goto label$6a30651_6_23;
	label$6a30651_6_22:
	r9 = r6;
	label$6a30651_6_23:
	r10 = 0.6999999999999999556;
	r9 = r9 * r10;
	r10 = 0.2999999999999999889;
	r9 = r9 + r10;
	r10 = r0->radius;
	r11 = 0.;
	if( !(r11 < r10) ) goto label$6a30651_6_44;
	r10 = r0->radius;
	r11 = 1.;
	r10 = r10 - r11;
	r13 = 1.;
	if( !(r10 < r13) ) goto label$6a30651_6_37;
	r11 = 1.;
	goto label$6a30651_6_38;
	label$6a30651_6_37:
	r11 = r10;
	label$6a30651_6_38:
	r11 = r11 * r9;
	r13 = 2.;
	r11 = r11 / r13;
	r12 = hl_math_ceil(r11);
	r3 = r12;
	goto label$6a30651_6_46;
	label$6a30651_6_44:
	r12 = 0;
	r3 = r12;
	label$6a30651_6_46:
	r10 = r0->radius;
	r10 = hl_math_sqrt(r10);
	r12 = 0;
	r15 = 1;
	r14 = r3 + r15;
	label$6a30651_6_51:
	if( r12 >= r14 ) goto label$6a30651_6_109;
	r15 = r12;
	++r12;
	r17 = 2;
	r16 = r15 * r17;
	r18 = 0;
	if( r15 != r18 ) goto label$6a30651_6_61;
	r17 = 0;
	goto label$6a30651_6_65;
	label$6a30651_6_61:
	r18 = 2;
	r17 = r15 * r18;
	r18 = 1;
	r17 = r17 - r18;
	label$6a30651_6_65:
	r11 = (double)r16;
	r11 = h3d_pass_Blur_gauss(r0,r11,r10);
	r13 = (double)r17;
	r13 = h3d_pass_Blur_gauss(r0,r13,r10);
	r19 = r11 + r13;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r21 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r21) ) goto label$6a30651_6_75;
	hl_types_ArrayBytes_Float___expand(r1,r15);
	label$6a30651_6_75:
	r2 = r1->bytes;
	r21 = 3;
	r21 = r15 << r21;
	*(double*)(r2 + r21) = r19;
	r1 = r0->offsets;
	if( r1 == NULL ) hl_null_access();
	r22 = 0;
	if( r15 != r22 ) goto label$6a30651_6_85;
	r20 = 0.;
	goto label$6a30651_6_95;
	label$6a30651_6_85:
	r23 = (double)r16;
	r20 = r11 * r23;
	r24 = (double)r17;
	r23 = r13 * r24;
	r20 = r20 + r23;
	r24 = (double)r15;
	r23 = r19 * r24;
	r24 = hl_math_sqrt(r9);
	r23 = r23 * r24;
	r20 = r20 / r23;
	label$6a30651_6_95:
	r21 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r21) ) goto label$6a30651_6_98;
	hl_types_ArrayBytes_Float___expand(r1,r15);
	label$6a30651_6_98:
	r2 = r1->bytes;
	r21 = 3;
	r21 = r15 << r21;
	*(double*)(r2 + r21) = r20;
	r20 = r4 + r19;
	r4 = r20;
	r21 = 0;
	if( r21 >= r15 ) goto label$6a30651_6_108;
	r20 = r20 + r19;
	r4 = r20;
	label$6a30651_6_108:
	goto label$6a30651_6_51;
	label$6a30651_6_109:
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r12 = 0;
	r14 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r14) ) goto label$6a30651_6_116;
	r11 = 0.;
	goto label$6a30651_6_120;
	label$6a30651_6_116:
	r2 = r1->bytes;
	r14 = 3;
	r14 = r12 << r14;
	r11 = *(double*)(r2 + r14);
	label$6a30651_6_120:
	r13 = 0.01000000000000000021;
	r13 = r13 / r9;
	r11 = r11 * r13;
	label$6a30651_6_123:
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r12 = r1->length;
	r14 = 2;
	if( r14 >= r12 ) goto label$6a30651_6_154;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r25 = r0->values;
	if( r25 == NULL ) hl_null_access();
	r12 = r25->length;
	r14 = 1;
	r12 = r12 - r14;
	r14 = r1->length;
	if( ((unsigned)r12) < ((unsigned)r14) ) goto label$6a30651_6_140;
	r13 = 0.;
	goto label$6a30651_6_144;
	label$6a30651_6_140:
	r2 = r1->bytes;
	r14 = 3;
	r14 = r12 << r14;
	r13 = *(double*)(r2 + r14);
	label$6a30651_6_144:
	if( !(r11 < r13) ) goto label$6a30651_6_146;
	goto label$6a30651_6_154;
	label$6a30651_6_146:
	r23 = 2.;
	r20 = r13 * r23;
	r19 = r4 - r20;
	r4 = r19;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r26 = hl_types_ArrayBytes_Float_pop(r1);
	goto label$6a30651_6_123;
	label$6a30651_6_154:
	r19 = r0->gain;
	r13 = r4 / r19;
	r4 = r13;
	r12 = 0;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r14 = r1->length;
	label$6a30651_6_161:
	if( r12 >= r14 ) goto label$6a30651_6_177;
	r15 = r12;
	++r12;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r17 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$6a30651_6_170;
	hl_types_ArrayBytes_Float___expand(r1,r15);
	label$6a30651_6_170:
	r2 = r1->bytes;
	r17 = 3;
	r17 = r15 << r17;
	r13 = *(double*)(r2 + r17);
	r13 = r13 / r4;
	*(double*)(r2 + r17) = r13;
	goto label$6a30651_6_161;
	label$6a30651_6_177:
	r13 = r0->linear;
	r19 = 0.;
	if( !(r19 < r13) ) goto label$6a30651_6_257;
	r13 = r0->gain;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r12 = r1->length;
	r14 = 2;
	r12 = r12 * r14;
	r14 = 1;
	r12 = r12 - r14;
	r19 = (double)r12;
	r13 = r13 / r19;
	r12 = 0;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r14 = r1->length;
	label$6a30651_6_194:
	if( r12 >= r14 ) goto label$6a30651_6_257;
	r15 = r12;
	++r12;
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r17 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$6a30651_6_204;
	r19 = 0.;
	goto label$6a30651_6_208;
	label$6a30651_6_204:
	r2 = r1->bytes;
	r17 = 3;
	r17 = r15 << r17;
	r19 = *(double*)(r2 + r17);
	label$6a30651_6_208:
	r1 = r0->values;
	if( r1 == NULL ) hl_null_access();
	r23 = r0->linear;
	r24 = r13 - r19;
	r23 = r23 * r24;
	r20 = r19 + r23;
	r17 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$6a30651_6_217;
	hl_types_ArrayBytes_Float___expand(r1,r15);
	label$6a30651_6_217:
	r2 = r1->bytes;
	r17 = 3;
	r17 = r15 << r17;
	*(double*)(r2 + r17) = r20;
	r1 = r0->offsets;
	if( r1 == NULL ) hl_null_access();
	r17 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$6a30651_6_227;
	r20 = 0.;
	goto label$6a30651_6_231;
	label$6a30651_6_227:
	r2 = r1->bytes;
	r17 = 3;
	r17 = r15 << r17;
	r20 = *(double*)(r2 + r17);
	label$6a30651_6_231:
	r1 = r0->offsets;
	if( r1 == NULL ) hl_null_access();
	r24 = r0->linear;
	r18 = 0;
	if( r15 != r18 ) goto label$6a30651_6_238;
	r27 = 0.;
	goto label$6a30651_6_246;
	label$6a30651_6_238:
	r18 = 2;
	r17 = r15 * r18;
	r27 = (double)r17;
	r28 = 0.5;
	r27 = r27 - r28;
	r28 = (double)r15;
	r28 = r28 * r9;
	r27 = r27 / r28;
	label$6a30651_6_246:
	r27 = r27 - r20;
	r24 = r24 * r27;
	r23 = r20 + r24;
	r17 = r1->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$6a30651_6_252;
	hl_types_ArrayBytes_Float___expand(r1,r15);
	label$6a30651_6_252:
	r2 = r1->bytes;
	r17 = 3;
	r17 = r15 << r17;
	*(double*)(r2 + r17) = r23;
	goto label$6a30651_6_194;
	label$6a30651_6_257:
	return;
}

void h3d_pass_Blur_apply(h3d__pass__Blur r0,h3d__impl__RenderContext r1,h3d__mat__Texture r2,h3d__mat__Texture r3) {
	h3d__VectorImpl r30;
	bool *r25, *r28;
	String r22, r23;
	h3d__impl__TextureCache r21;
	hl__types__ArrayObj r37;
	h3d__shader__ScreenShader r8;
	venum *r12, *r26, *r36;
	bool r17, r20, r27, r29;
	h3d__Engine r33;
	h3d__mat__Pass r13;
	h3d__shader__Blur r9;
	h3d__Vector4Impl r7;
	hl__types__ArrayBytes_Float r16;
	double r5, r6;
	h3d__MatrixImpl r40;
	int *r34, *r35;
	vdynamic *r14, *r15;
	varray *r41;
	int r18, r19, r24, r31, r32, r38, r39, r43;
	h3d__mat__Texture r10, r11, r42;
	r5 = r0->radius;
	r6 = 0.;
	if( !(r6 >= r5) ) goto label$6a30651_7_14;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r7 = r9->fixedColor__;
	if( r7 ) goto label$6a30651_7_14;
	if( !r3 ) goto label$6a30651_7_13;
	r12 = NULL;
	r13 = NULL;
	r14 = NULL;
	h3d_pass_Copy_run(r2,r3,r12,r13,r14);
	label$6a30651_7_13:
	return;
	label$6a30651_7_14:
	if( r3 ) goto label$6a30651_7_16;
	r3 = r2;
	label$6a30651_7_16:
	r16 = r0->values;
	if( r16 ) goto label$6a30651_7_19;
	h3d_pass_Blur_calcValues(r0);
	label$6a30651_7_19:
	if( r2 == NULL ) hl_null_access();
	r18 = r2->flags;
	r19 = 2;
	r18 = r18 & r19;
	r19 = 0;
	if( r18 != r19 ) goto label$6a30651_7_27;
	r17 = false;
	goto label$6a30651_7_28;
	label$6a30651_7_27:
	r17 = true;
	label$6a30651_7_28:
	if( !r17 ) goto label$6a30651_7_31;
	r18 = 6;
	goto label$6a30651_7_32;
	label$6a30651_7_31:
	r18 = 1;
	label$6a30651_7_32:
	if( r1 == NULL ) hl_null_access();
	r21 = r1->textures;
	if( r21 == NULL ) hl_null_access();
	r22 = r2->name;
	r23 = (String)s$BlurTmp;
	r22 = String___add__(r22,r23);
	r19 = r2->width;
	r24 = r2->height;
	r20 = false;
	r25 = &r20;
	r26 = r2->format;
	r27 = r17;
	r28 = &r27;
	r10 = h3d_impl_TextureCache_allocTarget(r21,r22,r19,r24,r25,r26,r28);
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r29 = true;
	r9->constModified = r29;
	r16 = r0->values;
	if( r16 == NULL ) hl_null_access();
	r19 = r16->length;
	r9->Quality__ = r19;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r16 = r0->values;
	r9->values__ = r16;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r16 = r0->offsets;
	r9->offsets__ = r16;
	if( !r17 ) goto label$6a30651_7_78;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r9->cubeTexture__ = r2;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r29 = true;
	r9->constModified = r29;
	r29 = true;
	r9->isCube__ = r29;
	goto label$6a30651_7_89;
	label$6a30651_7_78:
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r9->texture__ = r2;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r29 = true;
	r9->constModified = r29;
	r29 = false;
	r9->isCube__ = r29;
	label$6a30651_7_89:
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r30 = r9->pixel__;
	if( r30 == NULL ) hl_null_access();
	r5 = 1.;
	r19 = r2->width;
	r6 = (double)r19;
	r5 = r5 / r6;
	r30->x = r5;
	r5 = 0.;
	r30->y = r5;
	r5 = 0.;
	r30->z = r5;
	r19 = 0;
	r24 = r18;
	label$6a30651_7_105:
	if( r19 >= r24 ) goto label$6a30651_7_135;
	r31 = r19;
	++r19;
	r33 = h3d_pass_ScreenFx_get_engine(((h3d__pass__ScreenFx)r0));
	if( r33 == NULL ) hl_null_access();
	r32 = r31;
	r34 = &r32;
	r35 = NULL;
	r36 = NULL;
	h3d_Engine_pushTarget(r33,r10,r34,r35,r36);
	if( !r17 ) goto label$6a30651_7_130;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r37 = r0->cubeDir;
	if( r37 == NULL ) hl_null_access();
	r39 = r37->length;
	if( ((unsigned)r31) < ((unsigned)r39) ) goto label$6a30651_7_126;
	r40 = NULL;
	goto label$6a30651_7_129;
	label$6a30651_7_126:
	r41 = r37->array;
	r15 = ((vdynamic**)(r41 + 1))[r31];
	r40 = (h3d__MatrixImpl)r15;
	label$6a30651_7_129:
	r9->cubeDir__ = r40;
	label$6a30651_7_130:
	h3d_pass_ScreenFx_render(((h3d__pass__ScreenFx)r0));
	r33 = h3d_pass_ScreenFx_get_engine(((h3d__pass__ScreenFx)r0));
	if( r33 == NULL ) hl_null_access();
	h3d_Engine_popTarget(r33);
	goto label$6a30651_7_105;
	label$6a30651_7_135:
	if( !r17 ) goto label$6a30651_7_141;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r9->cubeTexture__ = r10;
	goto label$6a30651_7_145;
	label$6a30651_7_141:
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r9->texture__ = r10;
	label$6a30651_7_145:
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r30 = r9->pixel__;
	if( r30 == NULL ) hl_null_access();
	r5 = 0.;
	r30->x = r5;
	r5 = 1.;
	if( r2 == NULL ) hl_null_access();
	r19 = r2->height;
	r6 = (double)r19;
	r5 = r5 / r6;
	r30->y = r5;
	r5 = 0.;
	r30->z = r5;
	if( r3 == NULL ) hl_null_access();
	r11 = r3->depthBuffer;
	r42 = NULL;
	r3->depthBuffer = r42;
	r19 = 0;
	r24 = r18;
	label$6a30651_7_166:
	if( r19 >= r24 ) goto label$6a30651_7_196;
	r31 = r19;
	++r19;
	r33 = h3d_pass_ScreenFx_get_engine(((h3d__pass__ScreenFx)r0));
	if( r33 == NULL ) hl_null_access();
	r38 = r31;
	r34 = &r38;
	r35 = NULL;
	r36 = NULL;
	h3d_Engine_pushTarget(r33,r3,r34,r35,r36);
	if( !r17 ) goto label$6a30651_7_191;
	r8 = r0->shader;
	r9 = (h3d__shader__Blur)r8;
	if( r9 == NULL ) hl_null_access();
	r37 = r0->cubeDir;
	if( r37 == NULL ) hl_null_access();
	r43 = r37->length;
	if( ((unsigned)r31) < ((unsigned)r43) ) goto label$6a30651_7_187;
	r40 = NULL;
	goto label$6a30651_7_190;
	label$6a30651_7_187:
	r41 = r37->array;
	r15 = ((vdynamic**)(r41 + 1))[r31];
	r40 = (h3d__MatrixImpl)r15;
	label$6a30651_7_190:
	r9->cubeDir__ = r40;
	label$6a30651_7_191:
	h3d_pass_ScreenFx_render(((h3d__pass__ScreenFx)r0));
	r33 = h3d_pass_ScreenFx_get_engine(((h3d__pass__ScreenFx)r0));
	if( r33 == NULL ) hl_null_access();
	h3d_Engine_popTarget(r33);
	goto label$6a30651_7_166;
	label$6a30651_7_196:
	if( r3 == NULL ) hl_null_access();
	r3->depthBuffer = r11;
	return;
}

void h3d_pass_Blur_new(h3d__pass__Blur r0,double* r1,double* r2,double* r3,double* r4) {
	hl__types__ArrayObj r9;
	hl_type *r11;
	h3d__shader__Blur r19;
	hl__types__ArrayBytes_Float r14;
	double r5, r6, r7, r8, r16;
	h3d__MatrixImpl r13;
	vbyte *r15;
	int r12, r17;
	varray *r10;
	if( r1 ) goto label$6a30651_8_3;
	r5 = 1.;
	goto label$6a30651_8_4;
	label$6a30651_8_3:
	r5 = *r1;
	label$6a30651_8_4:
	if( r2 ) goto label$6a30651_8_7;
	r6 = 1.;
	goto label$6a30651_8_8;
	label$6a30651_8_7:
	r6 = *r2;
	label$6a30651_8_8:
	if( r3 ) goto label$6a30651_8_11;
	r7 = 0.;
	goto label$6a30651_8_12;
	label$6a30651_8_11:
	r7 = *r3;
	label$6a30651_8_12:
	if( r4 ) goto label$6a30651_8_15;
	r8 = 1.;
	goto label$6a30651_8_16;
	label$6a30651_8_15:
	r8 = *r4;
	label$6a30651_8_16:
	r11 = &t$h3d_MatrixImpl;
	r12 = 6;
	r10 = hl_alloc_array(r11,r12);
	r12 = 96;
	r15 = hl_alloc_bytes(r12);
	r12 = 0;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r12 = 12;
	r14 = hl_types_ArrayBase_allocF64(r15,r12);
	r13 = h3d__Matrix_Matrix_Impl__L(r14);
	r12 = 0;
	((h3d__MatrixImpl*)(r10 + 1))[r12] = r13;
	r12 = 96;
	r15 = hl_alloc_bytes(r12);
	r12 = 0;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r12 = 12;
	r14 = hl_types_ArrayBase_allocF64(r15,r12);
	r13 = h3d__Matrix_Matrix_Impl__L(r14);
	r12 = 1;
	((h3d__MatrixImpl*)(r10 + 1))[r12] = r13;
	r12 = 96;
	r15 = hl_alloc_bytes(r12);
	r12 = 0;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r12 = 12;
	r14 = hl_types_ArrayBase_allocF64(r15,r12);
	r13 = h3d__Matrix_Matrix_Impl__L(r14);
	r12 = 2;
	((h3d__MatrixImpl*)(r10 + 1))[r12] = r13;
	r12 = 96;
	r15 = hl_alloc_bytes(r12);
	r12 = 0;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r12 = 12;
	r14 = hl_types_ArrayBase_allocF64(r15,r12);
	r13 = h3d__Matrix_Matrix_Impl__L(r14);
	r12 = 3;
	((h3d__MatrixImpl*)(r10 + 1))[r12] = r13;
	r12 = 96;
	r15 = hl_alloc_bytes(r12);
	r12 = 0;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r12 = 12;
	r14 = hl_types_ArrayBase_allocF64(r15,r12);
	r13 = h3d__Matrix_Matrix_Impl__L(r14);
	r12 = 4;
	((h3d__MatrixImpl*)(r10 + 1))[r12] = r13;
	r12 = 96;
	r15 = hl_alloc_bytes(r12);
	r12 = 0;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = -1.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r16 = 0.;
	r17 = 3;
	r17 = r12 << r17;
	*(double*)(r15 + r17) = r16;
	++r12;
	r12 = 12;
	r14 = hl_types_ArrayBase_allocF64(r15,r12);
	r13 = h3d__Matrix_Matrix_Impl__L(r14);
	r12 = 5;
	((h3d__MatrixImpl*)(r10 + 1))[r12] = r13;
	r9 = hl_types_ArrayObj_alloc(r10);
	r0->cubeDir = r9;
	r19 = (h3d__shader__Blur)hl_alloc_obj(&t$h3d_shader_Blur);
	h3d_shader_Blur_new(r19);
	r9 = NULL;
	h3d_pass_ScreenFx_new(((h3d__pass__ScreenFx)r0),((h3d__shader__ScreenShader)r19),r9);
	r16 = h3d_pass_Blur_set_radius(r0,r5);
	r16 = h3d_pass_Blur_set_quality(r0,r8);
	r16 = h3d_pass_Blur_set_gain(r0,r6);
	r16 = h3d_pass_Blur_set_linear(r0,r7);
	return;
}

