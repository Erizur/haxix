// Generated by HLC 5.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h3d/prim/MeshPrimitive.h>
void h3d_prim_Primitive_dispose(h3d__prim__Primitive);
void h3d_Buffer_dispose(h3d__Buffer);
#include <h3d/Engine.h>
bool h3d_Indexes_isDisposed(h3d__Indexes);
void h3d_Engine_renderMultiBuffers(h3d__Engine,hxd__MultiFormat,hl__types__ArrayObj,h3d__Indexes,int*,int*);
void h3d_Engine_renderIndexed(h3d__Engine,h3d__Buffer,h3d__Indexes,int*,int*);
void h3d_prim_Primitive_new(h3d__prim__Primitive);

void h3d_prim_MeshPrimitive_dispose(h3d__prim__MeshPrimitive r0) {
	hl__types__ArrayObj r2;
	hxd__MultiFormat r8;
	h3d__Buffer r5;
	vdynamic *r6;
	varray *r7;
	int r3, r4;
	h3d_prim_Primitive_dispose(((h3d__prim__Primitive)r0));
	r2 = r0->buffers;
	if( !r2 ) goto label$bc4e908_1_24;
	r3 = 0;
	r2 = r0->buffers;
	label$bc4e908_1_5:
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r3 >= r4 ) goto label$bc4e908_1_20;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$bc4e908_1_13;
	r5 = NULL;
	goto label$bc4e908_1_16;
	label$bc4e908_1_13:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r3];
	r5 = (h3d__Buffer)r6;
	label$bc4e908_1_16:
	++r3;
	if( r5 == NULL ) hl_null_access();
	h3d_Buffer_dispose(r5);
	goto label$bc4e908_1_5;
	label$bc4e908_1_20:
	r2 = NULL;
	r0->buffers = r2;
	r8 = NULL;
	r0->formats = r8;
	label$bc4e908_1_24:
	return;
}

void h3d_prim_MeshPrimitive_render(h3d__prim__MeshPrimitive r0,h3d__Engine r1) {
	hl__types__ArrayObj r7;
	hxd__MultiFormat r8;
	bool r4;
	h3d__Buffer r5;
	int *r9, *r10;
	vdynamic *r6;
	h3d__Indexes r3;
	r3 = r0->indexes;
	if( !r3 ) goto label$bc4e908_2_12;
	r3 = r0->indexes;
	if( r3 == NULL ) hl_null_access();
	r4 = h3d_Indexes_isDisposed(r3);
	if( r4 ) goto label$bc4e908_2_12;
	r5 = r0->buffer;
	if( !r5 ) goto label$bc4e908_2_12;
	r5 = r0->buffer;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->vbuf;
	if( r6 ) goto label$bc4e908_2_13;
	label$bc4e908_2_12:
	((void (*)(h3d__prim__MeshPrimitive,h3d__Engine))r0->$type->vobj_proto[4])(r0,r1);
	label$bc4e908_2_13:
	r7 = r0->buffers;
	if( !r7 ) goto label$bc4e908_2_23;
	if( r1 == NULL ) hl_null_access();
	r8 = r0->formats;
	r7 = r0->buffers;
	r3 = r0->indexes;
	r9 = NULL;
	r10 = NULL;
	h3d_Engine_renderMultiBuffers(r1,r8,r7,r3,r9,r10);
	goto label$bc4e908_2_29;
	label$bc4e908_2_23:
	if( r1 == NULL ) hl_null_access();
	r5 = r0->buffer;
	r3 = r0->indexes;
	r9 = NULL;
	r10 = NULL;
	h3d_Engine_renderIndexed(r1,r5,r3,r9,r10);
	label$bc4e908_2_29:
	return;
}

void h3d_prim_MeshPrimitive_new(h3d__prim__MeshPrimitive r0) {
	h3d_prim_Primitive_new(((h3d__prim__Primitive)r0));
	return;
}

