// Generated by HLC 5.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <hxd/BufferFormat.h>
#include <hxd/BufferInput.h>
#include <hl/types/ArrayBytes_Int.h>
#include <hxd/_BufferFormat/Precision_Impl_.h>
extern hxd__$BufferFormat g$_hxd_BufferFormat;
hl__types__ArrayObj hl_types_ArrayObj_copy(hl__types__ArrayObj);
extern hxd___BufferFormat__$Precision_Impl_ g$f1f77f8;
int String___compare(String,vdynamic*);
extern String s$Input_not_found_;
String String___add__(String,String);
extern hl_type t$hxd_BufferInput;
void hxd_BufferInput_new(hxd__BufferInput,String,int,int*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
hxd__BufferFormat hxd_BufferFormat_make(hl__types__ArrayObj);
extern hl_type t$hl_types_ArrayBytes_Int;
extern hl_type t$_dyn;
#include <hl/natives.h>
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
int hxd__BufferFormat_BufferMapping_Impl___new(int,int,int);
int hl_types_ArrayBytes_Int_push(hl__types__ArrayBytes_Int,int);
extern String s$Missing_buffer_input_;
extern String s$3590cb8;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
extern String s$position;
extern String s$uv;
extern String s$color;
extern String s$normal;
extern hl_type t$String;
extern String s$b99834b;
String hl_types_ArrayObj_join(hl__types__ArrayObj,String);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
extern hl_type t$hl_types_ArrayObj;
extern hl_type t$hxd_BufferFormat;
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
int haxe_io_FPHelper_floatToI32(float);

void hxd_BufferFormat_new(hxd__BufferFormat r0,hl__types__ArrayObj r1) {
	hxd___BufferFormat__$Precision_Impl_ r14;
	hl__types__ArrayObj r5;
	bool r6;
	hl__types__ArrayBytes_Int r13;
	hxd__BufferInput r9;
	vdynamic *r10;
	vbyte *r16;
	varray *r11;
	int r3, r4, r8, r12, r15;
	hxd__$BufferFormat r2;
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r3 = r2->_UID;
	r4 = r3;
	++r3;
	r2->_UID = r3;
	r0->uid = r4;
	r3 = 0;
	r0->strideBytes = r3;
	r0->stride = r3;
	if( r1 == NULL ) hl_null_access();
	r5 = hl_types_ArrayObj_copy(r1);
	r0->inputs = r5;
	r6 = false;
	r0->hasLowPrecision = r6;
	r3 = 0;
	label$b65a2b6_1_15:
	if( r1 == NULL ) hl_null_access();
	r8 = r1->length;
	if( r3 >= r8 ) goto label$b65a2b6_1_72;
	r8 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r8) ) goto label$b65a2b6_1_23;
	r9 = NULL;
	goto label$b65a2b6_1_26;
	label$b65a2b6_1_23:
	r11 = r1->array;
	r10 = ((vdynamic**)(r11 + 1))[r3];
	r9 = (hxd__BufferInput)r10;
	label$b65a2b6_1_26:
	++r3;
	r4 = r0->stride;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->type;
	r12 = 7;
	r8 = r8 & r12;
	r4 = r4 + r8;
	r0->stride = r4;
	r4 = r0->strideBytes;
	r8 = r9->type;
	r12 = 7;
	r8 = r8 & r12;
	r14 = (hxd___BufferFormat__$Precision_Impl_)g$f1f77f8;
	r13 = r14->SIZES;
	if( r13 == NULL ) hl_null_access();
	r12 = r9->precision;
	r15 = r13->length;
	if( ((unsigned)r12) < ((unsigned)r15) ) goto label$b65a2b6_1_46;
	r12 = 0;
	goto label$b65a2b6_1_50;
	label$b65a2b6_1_46:
	r16 = r13->bytes;
	r15 = 2;
	r15 = r12 << r15;
	r12 = *(int*)(r16 + r15);
	label$b65a2b6_1_50:
	r8 = r8 * r12;
	r4 = r4 + r8;
	r0->strideBytes = r4;
	r4 = r0->strideBytes;
	r8 = 3;
	r4 = r4 & r8;
	r8 = 0;
	if( r4 == r8 ) goto label$b65a2b6_1_66;
	r4 = r0->strideBytes;
	r8 = 4;
	r12 = r0->strideBytes;
	r15 = 3;
	r12 = r12 & r15;
	r8 = r8 - r12;
	r4 = r4 + r8;
	r0->strideBytes = r4;
	label$b65a2b6_1_66:
	r4 = r9->precision;
	r8 = 0;
	if( r4 == r8 ) goto label$b65a2b6_1_71;
	r6 = true;
	r0->hasLowPrecision = r6;
	label$b65a2b6_1_71:
	goto label$b65a2b6_1_15;
	label$b65a2b6_1_72:
	return;
}

hxd__BufferInput hxd_BufferFormat_getInput(hxd__BufferFormat r0,String r1) {
	String r8;
	hl__types__ArrayObj r3;
	hxd__BufferInput r5;
	vdynamic *r6;
	varray *r7;
	int r2, r4;
	r2 = 0;
	r3 = r0->inputs;
	label$b65a2b6_2_2:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r2 >= r4 ) goto label$b65a2b6_2_19;
	r4 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r4) ) goto label$b65a2b6_2_10;
	r5 = NULL;
	goto label$b65a2b6_2_13;
	label$b65a2b6_2_10:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r2];
	r5 = (hxd__BufferInput)r6;
	label$b65a2b6_2_13:
	++r2;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->name;
	if( r8 != r1 && (!r8 || !r1 || String___compare(r8,(vdynamic*)r1) != 0) ) goto label$b65a2b6_2_18;
	return r5;
	label$b65a2b6_2_18:
	goto label$b65a2b6_2_2;
	label$b65a2b6_2_19:
	r5 = NULL;
	return r5;
}

int hxd_BufferFormat_calculateInputOffset(hxd__BufferFormat r0,String r1) {
	String r10;
	hxd___BufferFormat__$Precision_Impl_ r13;
	hl__types__ArrayObj r4;
	hl__types__ArrayBytes_Int r12;
	hxd__BufferInput r7;
	vdynamic *r8;
	vbyte *r15;
	varray *r9;
	int r2, r3, r5, r6, r11, r14;
	r2 = 0;
	r3 = 0;
	r4 = r0->inputs;
	label$b65a2b6_3_3:
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( r3 >= r6 ) goto label$b65a2b6_3_48;
	r6 = r4->length;
	if( ((unsigned)r3) < ((unsigned)r6) ) goto label$b65a2b6_3_11;
	r7 = NULL;
	goto label$b65a2b6_3_14;
	label$b65a2b6_3_11:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r3];
	r7 = (hxd__BufferInput)r8;
	label$b65a2b6_3_14:
	++r3;
	if( r7 == NULL ) hl_null_access();
	r10 = r7->name;
	if( r10 != r1 && (!r10 || !r1 || String___compare(r10,(vdynamic*)r1) != 0) ) goto label$b65a2b6_3_19;
	return r2;
	label$b65a2b6_3_19:
	r6 = r7->type;
	r11 = 7;
	r6 = r6 & r11;
	r13 = (hxd___BufferFormat__$Precision_Impl_)g$f1f77f8;
	r12 = r13->SIZES;
	if( r12 == NULL ) hl_null_access();
	r11 = r7->precision;
	r14 = r12->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$b65a2b6_3_30;
	r11 = 0;
	goto label$b65a2b6_3_34;
	label$b65a2b6_3_30:
	r15 = r12->bytes;
	r14 = 2;
	r14 = r11 << r14;
	r11 = *(int*)(r15 + r14);
	label$b65a2b6_3_34:
	r6 = r6 * r11;
	r5 = r2 + r6;
	r2 = r5;
	r6 = 3;
	r5 = r5 & r6;
	r6 = 0;
	if( r5 == r6 ) goto label$b65a2b6_3_47;
	r6 = 4;
	r14 = 3;
	r11 = r2 & r14;
	r6 = r6 - r11;
	r5 = r2 + r6;
	r2 = r5;
	label$b65a2b6_3_47:
	goto label$b65a2b6_3_3;
	label$b65a2b6_3_48:
	r10 = (String)s$Input_not_found_;
	r10 = String___add__(r10,r1);
	hl_throw((vdynamic*)r10);
}

hxd__BufferFormat hxd_BufferFormat_append(hxd__BufferFormat r0,String r1,int r2) {
	hl__types__ArrayObj r3;
	hxd__BufferInput r6;
	hxd__BufferFormat r9;
	int *r8;
	int r5, r7;
	r3 = r0->inputs;
	if( r3 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_copy(r3);
	if( r3 == NULL ) hl_null_access();
	r6 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r7 = 0;
	r8 = &r7;
	hxd_BufferInput_new(r6,r1,r2,r8);
	r5 = hl_types_ArrayObj_push(r3,((vdynamic*)r6));
	r9 = hxd_BufferFormat_make(r3);
	return r9;
}

hl__types__ArrayBytes_Int hxd_BufferFormat_resolveMapping(hxd__BufferFormat r0,hxd__BufferFormat r1) {
	String r17, r18;
	hl__types__ArrayObj r3, r12;
	hl_type *r21;
	bool r14, r20;
	hxd__BufferInput r13, r16;
	hl__types__ArrayBytes_Int r2, r9;
	vdynamic *r6;
	vbyte *r10;
	varray *r7;
	int r4, r5, r11, r15, r19;
	r3 = r0->mappings;
	if( r3 ) goto label$b65a2b6_5_4;
	r2 = NULL;
	goto label$b65a2b6_5_15;
	label$b65a2b6_5_4:
	r3 = r0->mappings;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = r1->uid;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$b65a2b6_5_12;
	r2 = NULL;
	goto label$b65a2b6_5_15;
	label$b65a2b6_5_12:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r4];
	r2 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r6,&t$_dyn,&t$hl_types_ArrayBytes_Int);
	label$b65a2b6_5_15:
	if( !r2 ) goto label$b65a2b6_5_17;
	return r2;
	label$b65a2b6_5_17:
	r4 = 0;
	r10 = hl_alloc_bytes(r4);
	r4 = 0;
	r4 = 0;
	r9 = hl_types_ArrayBase_allocI32(r10,r4);
	r2 = r9;
	r4 = 0;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->inputs;
	label$b65a2b6_5_26:
	if( r3 == NULL ) hl_null_access();
	r11 = r3->length;
	if( r4 >= r11 ) goto label$b65a2b6_5_81;
	r11 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r11) ) goto label$b65a2b6_5_34;
	r13 = NULL;
	goto label$b65a2b6_5_37;
	label$b65a2b6_5_34:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r4];
	r13 = (hxd__BufferInput)r6;
	label$b65a2b6_5_37:
	++r4;
	r14 = false;
	r5 = 0;
	r12 = r0->inputs;
	label$b65a2b6_5_41:
	if( r12 == NULL ) hl_null_access();
	r15 = r12->length;
	if( r5 >= r15 ) goto label$b65a2b6_5_72;
	r15 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r15) ) goto label$b65a2b6_5_49;
	r16 = NULL;
	goto label$b65a2b6_5_52;
	label$b65a2b6_5_49:
	r7 = r12->array;
	r6 = ((vdynamic**)(r7 + 1))[r5];
	r16 = (hxd__BufferInput)r6;
	label$b65a2b6_5_52:
	++r5;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->name;
	if( r13 == NULL ) hl_null_access();
	r18 = r13->name;
	if( r17 != r18 && (!r17 || !r18 || String___compare(r17,(vdynamic*)r18) != 0) ) goto label$b65a2b6_5_71;
	r11 = r16->type;
	r15 = r13->type;
	if( r11 != r15 ) goto label$b65a2b6_5_71;
	if( r2 == NULL ) hl_null_access();
	r11 = 0;
	r17 = r16->name;
	r15 = hxd_BufferFormat_calculateInputOffset(r0,r17);
	r19 = r16->precision;
	r11 = hxd__BufferFormat_BufferMapping_Impl___new(r11,r15,r19);
	r11 = hl_types_ArrayBytes_Int_push(r2,r11);
	r20 = true;
	r14 = r20;
	goto label$b65a2b6_5_72;
	label$b65a2b6_5_71:
	goto label$b65a2b6_5_41;
	label$b65a2b6_5_72:
	if( r14 ) goto label$b65a2b6_5_80;
	r17 = (String)s$Missing_buffer_input_;
	if( r13 == NULL ) hl_null_access();
	r18 = r13->name;
	r17 = String___add__(r17,r18);
	r18 = (String)s$3590cb8;
	r17 = String___add__(r17,r18);
	hl_throw((vdynamic*)r17);
	label$b65a2b6_5_80:
	goto label$b65a2b6_5_26;
	label$b65a2b6_5_81:
	r3 = r0->mappings;
	if( r3 ) goto label$b65a2b6_5_88;
	r21 = &t$hl_types_ArrayBytes_Int;
	r4 = 0;
	r7 = hl_alloc_array(r21,r4);
	r3 = hl_types_ArrayObj_alloc(r7);
	r0->mappings = r3;
	label$b65a2b6_5_88:
	r3 = r0->mappings;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = r1->uid;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$b65a2b6_5_95;
	hl_types_ArrayObj___expand(r3,r4);
	label$b65a2b6_5_95:
	r7 = r3->array;
	((hl__types__ArrayBytes_Int*)(r7 + 1))[r4] = r2;
	return r2;
}

hxd__BufferFormat hxd_BufferFormat_get_XY_UV_RGBA() {
	String r8;
	hl__types__ArrayObj r3;
	hl_type *r5;
	hxd__BufferInput r7;
	hxd__BufferFormat r1;
	int *r10;
	int r6, r9, r11, r12;
	varray *r4;
	hxd__$BufferFormat r2;
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->XY_UV_RGBA;
	if( r1 ) goto label$b65a2b6_6_34;
	r5 = &t$hxd_BufferInput;
	r6 = 3;
	r4 = hl_alloc_array(r5,r6);
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$position;
	r6 = 2;
	r9 = 0;
	r10 = &r9;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 0;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$uv;
	r6 = 2;
	r11 = 0;
	r10 = &r11;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 1;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$color;
	r6 = 4;
	r12 = 0;
	r10 = &r12;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 2;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r3 = hl_types_ArrayObj_alloc(r4);
	r1 = hxd_BufferFormat_make(r3);
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r2->XY_UV_RGBA = r1;
	label$b65a2b6_6_34:
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->XY_UV_RGBA;
	return r1;
}

hxd__BufferFormat hxd_BufferFormat_get_XY_UV() {
	String r8;
	hl__types__ArrayObj r3;
	hl_type *r5;
	hxd__BufferInput r7;
	hxd__BufferFormat r1;
	int *r10;
	int r6, r9, r11;
	varray *r4;
	hxd__$BufferFormat r2;
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->XY_UV;
	if( r1 ) goto label$b65a2b6_7_26;
	r5 = &t$hxd_BufferInput;
	r6 = 2;
	r4 = hl_alloc_array(r5,r6);
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$position;
	r6 = 2;
	r9 = 0;
	r10 = &r9;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 0;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$uv;
	r6 = 2;
	r11 = 0;
	r10 = &r11;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 1;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r3 = hl_types_ArrayObj_alloc(r4);
	r1 = hxd_BufferFormat_make(r3);
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r2->XY_UV = r1;
	label$b65a2b6_7_26:
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->XY_UV;
	return r1;
}

hxd__BufferFormat hxd_BufferFormat_get_POS3D() {
	String r8;
	hl__types__ArrayObj r3;
	hl_type *r5;
	hxd__BufferInput r7;
	hxd__BufferFormat r1;
	int *r10;
	int r6, r9;
	varray *r4;
	hxd__$BufferFormat r2;
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->POS3D;
	if( r1 ) goto label$b65a2b6_8_18;
	r5 = &t$hxd_BufferInput;
	r6 = 1;
	r4 = hl_alloc_array(r5,r6);
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$position;
	r6 = 3;
	r9 = 0;
	r10 = &r9;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 0;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r3 = hl_types_ArrayObj_alloc(r4);
	r1 = hxd_BufferFormat_make(r3);
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r2->POS3D = r1;
	label$b65a2b6_8_18:
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->POS3D;
	return r1;
}

hxd__BufferFormat hxd_BufferFormat_get_POS3D_NORMAL_UV() {
	String r8;
	hl__types__ArrayObj r3;
	hl_type *r5;
	hxd__BufferInput r7;
	hxd__BufferFormat r1;
	int *r10;
	int r6, r9, r11, r12;
	varray *r4;
	hxd__$BufferFormat r2;
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->POS3D_NORMAL_UV;
	if( r1 ) goto label$b65a2b6_9_34;
	r5 = &t$hxd_BufferInput;
	r6 = 3;
	r4 = hl_alloc_array(r5,r6);
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$position;
	r6 = 3;
	r9 = 0;
	r10 = &r9;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 0;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$normal;
	r6 = 3;
	r11 = 0;
	r10 = &r11;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 1;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r7 = (hxd__BufferInput)hl_alloc_obj(&t$hxd_BufferInput);
	r8 = (String)s$uv;
	r6 = 2;
	r12 = 0;
	r10 = &r12;
	hxd_BufferInput_new(r7,r8,r6,r10);
	r6 = 2;
	((hxd__BufferInput*)(r4 + 1))[r6] = r7;
	r3 = hl_types_ArrayObj_alloc(r4);
	r1 = hxd_BufferFormat_make(r3);
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r2->POS3D_NORMAL_UV = r1;
	label$b65a2b6_9_34:
	r2 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1 = r2->POS3D_NORMAL_UV;
	return r1;
}

hxd__BufferFormat hxd_BufferFormat_get_POS3D_NORMAL_UV_RGBA() {
	String r2;
	hxd__BufferFormat r0;
	int r3;
	hxd__$BufferFormat r1;
	r1 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r0 = r1->POS3D_NORMAL_UV_RGBA;
	if( r0 ) goto label$b65a2b6_10_10;
	r0 = hxd_BufferFormat_get_POS3D_NORMAL_UV();
	if( r0 == NULL ) hl_null_access();
	r2 = (String)s$color;
	r3 = 4;
	r0 = hxd_BufferFormat_append(r0,r2,r3);
	r1 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r1->POS3D_NORMAL_UV_RGBA = r0;
	label$b65a2b6_10_10:
	r1 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r0 = r1->POS3D_NORMAL_UV_RGBA;
	return r0;
}

hxd__BufferFormat hxd_BufferFormat_make(hl__types__ArrayObj r0) {
	String r11, r15, r22;
	haxe__ds__StringMap r13;
	hl__types__ArrayObj r1, r8, r16;
	hl_type *r3;
	bool r18, r23;
	hxd__BufferInput r9, r12;
	hxd__BufferFormat r17;
	vdynamic *r10;
	hxd__$BufferFormat r14;
	int r4, r6, r7, r19, r20, r21;
	varray *r2;
	r3 = &t$String;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r4 = 0;
	label$b65a2b6_11_5:
	if( r0 == NULL ) hl_null_access();
	r7 = r0->length;
	if( r4 >= r7 ) goto label$b65a2b6_11_22;
	r7 = r0->length;
	if( ((unsigned)r4) < ((unsigned)r7) ) goto label$b65a2b6_11_13;
	r9 = NULL;
	goto label$b65a2b6_11_16;
	label$b65a2b6_11_13:
	r2 = r0->array;
	r10 = ((vdynamic**)(r2 + 1))[r4];
	r9 = (hxd__BufferInput)r10;
	label$b65a2b6_11_16:
	++r4;
	if( r1 == NULL ) hl_null_access();
	if( r9 == NULL ) hl_null_access();
	r11 = r9->name;
	r6 = hl_types_ArrayObj_push(r1,((vdynamic*)r11));
	goto label$b65a2b6_11_5;
	label$b65a2b6_11_22:
	if( r1 == NULL ) hl_null_access();
	r11 = (String)s$b99834b;
	r11 = hl_types_ArrayObj_join(r1,r11);
	r14 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r13 = r14->ALL_FORMATS;
	if( r13 == NULL ) hl_null_access();
	r10 = haxe_ds_StringMap_get(r13,r11);
	r8 = (hl__types__ArrayObj)hl_dyn_castp(&r10,&t$_dyn,&t$hl_types_ArrayObj);
	if( r8 ) goto label$b65a2b6_11_40;
	r3 = &t$hxd_BufferFormat;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r16 = hl_types_ArrayObj_alloc(r2);
	r8 = r16;
	r14 = (hxd__$BufferFormat)g$_hxd_BufferFormat;
	r13 = r14->ALL_FORMATS;
	if( r13 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r13,r11,((vdynamic*)r16));
	label$b65a2b6_11_40:
	r4 = 0;
	label$b65a2b6_11_41:
	if( r8 == NULL ) hl_null_access();
	r7 = r8->length;
	if( r4 >= r7 ) goto label$b65a2b6_11_97;
	r7 = r8->length;
	if( ((unsigned)r4) < ((unsigned)r7) ) goto label$b65a2b6_11_49;
	r17 = NULL;
	goto label$b65a2b6_11_52;
	label$b65a2b6_11_49:
	r2 = r8->array;
	r10 = ((vdynamic**)(r2 + 1))[r4];
	r17 = (hxd__BufferFormat)r10;
	label$b65a2b6_11_52:
	++r4;
	r18 = true;
	r6 = 0;
	if( r0 == NULL ) hl_null_access();
	r7 = r0->length;
	label$b65a2b6_11_57:
	if( r6 >= r7 ) goto label$b65a2b6_11_94;
	r19 = r6;
	++r6;
	if( r0 == NULL ) hl_null_access();
	r21 = r0->length;
	if( ((unsigned)r19) < ((unsigned)r21) ) goto label$b65a2b6_11_66;
	r9 = NULL;
	goto label$b65a2b6_11_69;
	label$b65a2b6_11_66:
	r2 = r0->array;
	r10 = ((vdynamic**)(r2 + 1))[r19];
	r9 = (hxd__BufferInput)r10;
	label$b65a2b6_11_69:
	if( r17 == NULL ) hl_null_access();
	r16 = r17->inputs;
	if( r16 == NULL ) hl_null_access();
	r21 = r16->length;
	if( ((unsigned)r19) < ((unsigned)r21) ) goto label$b65a2b6_11_76;
	r12 = NULL;
	goto label$b65a2b6_11_79;
	label$b65a2b6_11_76:
	r2 = r16->array;
	r10 = ((vdynamic**)(r2 + 1))[r19];
	r12 = (hxd__BufferInput)r10;
	label$b65a2b6_11_79:
	if( r9 == NULL ) hl_null_access();
	r20 = r9->type;
	if( r12 == NULL ) hl_null_access();
	r21 = r12->type;
	if( r20 != r21 ) goto label$b65a2b6_11_90;
	r15 = r9->name;
	r22 = r12->name;
	if( r15 != r22 && (!r15 || !r22 || String___compare(r15,(vdynamic*)r22) != 0) ) goto label$b65a2b6_11_90;
	r20 = r9->precision;
	r21 = r12->precision;
	if( r20 == r21 ) goto label$b65a2b6_11_93;
	label$b65a2b6_11_90:
	r23 = false;
	r18 = r23;
	goto label$b65a2b6_11_94;
	label$b65a2b6_11_93:
	goto label$b65a2b6_11_57;
	label$b65a2b6_11_94:
	if( !r18 ) goto label$b65a2b6_11_96;
	return r17;
	label$b65a2b6_11_96:
	goto label$b65a2b6_11_41;
	label$b65a2b6_11_97:
	r17 = (hxd__BufferFormat)hl_alloc_obj(&t$hxd_BufferFormat);
	hxd_BufferFormat_new(r17,r0);
	r4 = hl_types_ArrayObj_push(r8,((vdynamic*)r17));
	return r17;
}

int hxd_BufferFormat_float32to16(double r0,bool* r1) {
	bool r2;
	float r4;
	int r3, r5, r6, r7, r8, r9, r10;
	if( r1 ) goto label$b65a2b6_12_3;
	r2 = false;
	goto label$b65a2b6_12_4;
	label$b65a2b6_12_3:
	r2 = *r1;
	label$b65a2b6_12_4:
	r4 = (float)r0;
	r3 = haxe_io_FPHelper_floatToI32(r4);
	r6 = 0x80000000;
	r5 = r3 & r6;
	r6 = 16;
	r5 = ((unsigned)r5) >> r6;
	r7 = 2139095040;
	r6 = r3 & r7;
	r7 = 23;
	r6 = ((unsigned)r6) >> r7;
	r8 = 8388607;
	r7 = r3 & r8;
	r9 = 112;
	if( r9 >= r6 ) goto label$b65a2b6_12_29;
	r10 = 112;
	r9 = r6 - r10;
	r10 = 10;
	r9 = r9 << r10;
	r10 = 31744;
	r9 = r9 & r10;
	r8 = r5 | r9;
	r10 = 13;
	r9 = r7 >> r10;
	r8 = r8 | r9;
	return r8;
	label$b65a2b6_12_29:
	r9 = 113;
	if( r6 >= r9 ) goto label$b65a2b6_12_45;
	r9 = 101;
	if( r9 >= r6 ) goto label$b65a2b6_12_45;
	if( r2 ) goto label$b65a2b6_12_45;
	r9 = 8384512;
	r9 = r9 + r7;
	r10 = 125;
	r10 = r10 - r6;
	r9 = r9 >> r10;
	r10 = 1;
	r9 = r9 + r10;
	r10 = 1;
	r9 = r9 >> r10;
	r8 = r5 | r9;
	return r8;
	label$b65a2b6_12_45:
	r9 = 143;
	if( r9 >= r6 ) goto label$b65a2b6_12_50;
	r9 = 32767;
	r8 = r5 | r9;
	return r8;
	label$b65a2b6_12_50:
	r8 = 0;
	return r8;
}

int hxd_BufferFormat_float32toS8(double r0) {
	double r2, r3;
	int r1, r4, r5;
	r3 = 128.;
	r2 = r0 * r3;
	r1 = hl_math_floor(r2);
	r5 = 127;
	if( r1 < r5 ) goto label$b65a2b6_13_7;
	r4 = 127;
	return r4;
	label$b65a2b6_13_7:
	r5 = -127;
	if( r5 < r1 ) goto label$b65a2b6_13_11;
	r4 = 128;
	return r4;
	label$b65a2b6_13_11:
	r5 = 0;
	if( r1 < r5 ) goto label$b65a2b6_13_14;
	return r1;
	label$b65a2b6_13_14:
	r4 = 127;
	r4 = r4 + r1;
	r5 = 128;
	r4 = r4 | r5;
	return r4;
}

int hxd_BufferFormat_float32toU8(double r0) {
	double r1, r2;
	int r3;
	r2 = 0.;
	if( !(r0 < r2) ) goto label$b65a2b6_14_4;
	r3 = 0;
	return r3;
	label$b65a2b6_14_4:
	r2 = 1.;
	if( !(r0 >= r2) ) goto label$b65a2b6_14_8;
	r3 = 255;
	return r3;
	label$b65a2b6_14_8:
	r2 = 256.;
	r1 = r0 * r2;
	r3 = hl_math_floor(r1);
	return r3;
}

