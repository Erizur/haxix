// Generated by HLC 5.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h3d/prim/BigPrimitive.h>
extern String s$Too_many_vertices_in_begin_;
void h3d_prim_BigPrimitive_flush(h3d__prim__BigPrimitive);
extern h3d__prim__$BigPrimitive g$_h3d_prim_BigPrimitive;
extern hl_type t$hl_types_ArrayBytes_hl_F32;
void hl_types_ArrayBytes_hl_F32_new(hl__types__ArrayBytes_hl_F32);
void hl_types_ArrayBytes_hl_F32___expand(hl__types__ArrayBytes_hl_F32,int);
extern hl_type t$hl_types_ArrayBytes_hl_UI16;
void hl_types_ArrayBytes_hl_UI16_new(hl__types__ArrayBytes_hl_UI16);
void hl_types_ArrayBytes_hl_UI16___expand(hl__types__ArrayBytes_hl_UI16,int);
h3d__Buffer hxd_impl_Allocator_ofSubFloats(hxd__impl__Allocator,hl__types__ArrayBytes_hl_F32,int,hxd__BufferFormat,int*);
h3d__Buffer h3d_Buffer_ofSubFloats(hl__types__ArrayBytes_hl_F32,int,hxd__BufferFormat,hl__types__ArrayObj);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
h3d__Indexes hxd_impl_Allocator_ofIndexes(hxd__impl__Allocator,hl__types__ArrayBytes_hl_UI16,int*);
h3d__Indexes h3d_Indexes_alloc(hl__types__ArrayBytes_hl_UI16,int*,int*);
#include <h3d/Engine.h>
void h3d_Engine_renderIndexed(h3d__Engine,h3d__Buffer,h3d__Indexes,int*,int*);
void h3d_prim_BigPrimitive_clear(h3d__prim__BigPrimitive);
extern String s$646f081;
void hxd_impl_Allocator_disposeBuffer(hxd__impl__Allocator,h3d__Buffer);
void h3d_Buffer_dispose(h3d__Buffer);
void hxd_impl_Allocator_disposeIndexBuffer(hxd__impl__Allocator,h3d__Indexes);
void h3d_Indexes_dispose(h3d__Indexes);
extern hl_type t$h3d_Buffer;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$h3d_Indexes;
void h3d_prim_Primitive_new(h3d__prim__Primitive);
extern hl_type t$h3d_col_Bounds;
void h3d_col_Bounds_new(h3d__col__Bounds);
extern String s$Minimum_stride_3;

void h3d_prim_BigPrimitive_begin(h3d__prim__BigPrimitive r0,int r1,int r2) {
	String r9;
	bool r15;
	hl__types__ArrayBytes_hl_F32 r10;
	hl__types__ArrayBytes_hl_UI16 r16;
	unsigned short r17;
	hxd__BufferFormat r5;
	float r13;
	h3d__prim__$BigPrimitive r11;
	double r3, r6;
	vbyte *r14;
	int r4, r8, r12, r18, r19;
	r4 = r0->bufPos;
	r3 = (double)r4;
	r5 = r0->format;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->stride;
	r6 = (double)r4;
	r3 = r3 / r6;
	r4 = (int)r3;
	r0->startIndex = r4;
	r4 = r0->startIndex;
	r4 = r4 + r1;
	r8 = 65535;
	if( r4 < r8 ) goto label$fe77aea_1_18;
	r8 = 65535;
	if( r1 < r8 ) goto label$fe77aea_1_17;
	r9 = (String)s$Too_many_vertices_in_begin_;
	hl_throw((vdynamic*)r9);
	label$fe77aea_1_17:
	h3d_prim_BigPrimitive_flush(r0);
	label$fe77aea_1_18:
	r10 = r0->tmpBuf;
	if( r10 ) goto label$fe77aea_1_70;
	r11 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r10 = r11->PREV_BUFFER;
	r0->tmpBuf = r10;
	r10 = r0->tmpBuf;
	if( r10 ) goto label$fe77aea_1_45;
	r4 = 0;
	r10 = (hl__types__ArrayBytes_hl_F32)hl_alloc_obj(&t$hl_types_ArrayBytes_hl_F32);
	hl_types_ArrayBytes_hl_F32_new(r10);
	r12 = 0;
	if( r12 >= r4 ) goto label$fe77aea_1_43;
	r12 = r10->length;
	if( r12 >= r4 ) goto label$fe77aea_1_43;
	r12 = 1;
	r8 = r4 - r12;
	r6 = 0.;
	r13 = (float)r6;
	r12 = r10->length;
	if( ((unsigned)r8) < ((unsigned)r12) ) goto label$fe77aea_1_39;
	hl_types_ArrayBytes_hl_F32___expand(r10,r8);
	label$fe77aea_1_39:
	r14 = r10->bytes;
	r12 = 2;
	r12 = r8 << r12;
	*(float*)(r14 + r12) = r13;
	label$fe77aea_1_43:
	r0->tmpBuf = r10;
	goto label$fe77aea_1_48;
	label$fe77aea_1_45:
	r10 = NULL;
	r11 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r11->PREV_BUFFER = r10;
	label$fe77aea_1_48:
	r15 = r0->isStatic;
	if( !r15 ) goto label$fe77aea_1_70;
	r10 = r0->tmpBuf;
	r4 = 65535;
	r5 = r0->format;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->stride;
	r4 = r4 * r8;
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r12 >= r4 ) goto label$fe77aea_1_70;
	r12 = 1;
	r8 = r4 - r12;
	r6 = 0.;
	r13 = (float)r6;
	r12 = r10->length;
	if( ((unsigned)r8) < ((unsigned)r12) ) goto label$fe77aea_1_66;
	hl_types_ArrayBytes_hl_F32___expand(r10,r8);
	label$fe77aea_1_66:
	r14 = r10->bytes;
	r12 = 2;
	r12 = r8 << r12;
	*(float*)(r14 + r12) = r13;
	label$fe77aea_1_70:
	r15 = r0->isStatic;
	if( r15 ) goto label$fe77aea_1_93;
	r10 = r0->tmpBuf;
	r5 = r0->format;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->stride;
	r4 = r1 * r8;
	r8 = r0->bufPos;
	r4 = r4 + r8;
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r12 >= r4 ) goto label$fe77aea_1_93;
	r12 = 1;
	r8 = r4 - r12;
	r6 = 0.;
	r13 = (float)r6;
	r12 = r10->length;
	if( ((unsigned)r8) < ((unsigned)r12) ) goto label$fe77aea_1_89;
	hl_types_ArrayBytes_hl_F32___expand(r10,r8);
	label$fe77aea_1_89:
	r14 = r10->bytes;
	r12 = 2;
	r12 = r8 << r12;
	*(float*)(r14 + r12) = r13;
	label$fe77aea_1_93:
	r16 = r0->tmpIdx;
	if( r16 ) goto label$fe77aea_1_124;
	r11 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r16 = r11->PREV_INDEX;
	r0->tmpIdx = r16;
	r16 = r0->tmpIdx;
	if( r16 ) goto label$fe77aea_1_121;
	r4 = 0;
	r16 = (hl__types__ArrayBytes_hl_UI16)hl_alloc_obj(&t$hl_types_ArrayBytes_hl_UI16);
	hl_types_ArrayBytes_hl_UI16_new(r16);
	r12 = 0;
	if( r12 >= r4 ) goto label$fe77aea_1_119;
	r12 = r16->length;
	if( r12 >= r4 ) goto label$fe77aea_1_119;
	r12 = 1;
	r8 = r4 - r12;
	r12 = 0;
	r17 = (int)r12;
	r12 = (int)r17;
	r18 = r16->length;
	if( ((unsigned)r8) < ((unsigned)r18) ) goto label$fe77aea_1_115;
	hl_types_ArrayBytes_hl_UI16___expand(r16,r8);
	label$fe77aea_1_115:
	r14 = r16->bytes;
	r18 = 1;
	r18 = r8 << r18;
	*(unsigned short*)(r14 + r18) = (unsigned short)r12;
	label$fe77aea_1_119:
	r0->tmpIdx = r16;
	goto label$fe77aea_1_124;
	label$fe77aea_1_121:
	r16 = NULL;
	r11 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r11->PREV_INDEX = r16;
	label$fe77aea_1_124:
	r4 = r0->idxPos;
	r4 = r4 + r2;
	r16 = r0->tmpIdx;
	if( r16 == NULL ) hl_null_access();
	r8 = r16->length;
	if( r8 >= r4 ) goto label$fe77aea_1_164;
	r16 = r0->tmpIdx;
	if( r16 == NULL ) hl_null_access();
	r4 = r16->length;
	r8 = 0;
	if( r4 != r8 ) goto label$fe77aea_1_137;
	r4 = 1024;
	goto label$fe77aea_1_140;
	label$fe77aea_1_137:
	r16 = r0->tmpIdx;
	if( r16 == NULL ) hl_null_access();
	r4 = r16->length;
	label$fe77aea_1_140:
	r8 = r0->idxPos;
	r8 = r8 + r2;
	label$fe77aea_1_142:
	if( r4 >= r8 ) goto label$fe77aea_1_148;
	r18 = 1;
	r12 = r4 << r18;
	r4 = r12;
	goto label$fe77aea_1_142;
	label$fe77aea_1_148:
	r16 = r0->tmpIdx;
	if( r16 == NULL ) hl_null_access();
	r18 = r16->length;
	if( r18 >= r4 ) goto label$fe77aea_1_164;
	r18 = 1;
	r12 = r4 - r18;
	r18 = 0;
	r17 = (int)r18;
	r18 = (int)r17;
	r19 = r16->length;
	if( ((unsigned)r12) < ((unsigned)r19) ) goto label$fe77aea_1_160;
	hl_types_ArrayBytes_hl_UI16___expand(r16,r12);
	label$fe77aea_1_160:
	r14 = r16->bytes;
	r19 = 1;
	r19 = r12 << r19;
	*(unsigned short*)(r14 + r19) = (unsigned short)r18;
	label$fe77aea_1_164:
	return;
}

int h3d_prim_BigPrimitive_triCount(h3d__prim__BigPrimitive r0) {
	hl__types__ArrayObj r3;
	vdynamic *r7;
	varray *r8;
	h3d__Indexes r6;
	int r1, r2, r4, r5;
	r1 = 0;
	r2 = 0;
	r3 = r0->allIndexes;
	label$fe77aea_2_3:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r2 >= r5 ) goto label$fe77aea_2_20;
	r5 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r5) ) goto label$fe77aea_2_11;
	r6 = NULL;
	goto label$fe77aea_2_14;
	label$fe77aea_2_11:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r2];
	r6 = (h3d__Indexes)r7;
	label$fe77aea_2_14:
	++r2;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->count;
	r4 = r1 + r5;
	r1 = r4;
	goto label$fe77aea_2_3;
	label$fe77aea_2_20:
	r4 = r0->idxPos;
	r2 = r1 + r4;
	r4 = 3;
	r2 = r4 == 0 ? 0 : r2 / r4;
	return r2;
}

int h3d_prim_BigPrimitive_vertexCount(h3d__prim__BigPrimitive r0) {
	hl__types__ArrayObj r3;
	hxd__BufferFormat r10;
	double r9, r11;
	h3d__Buffer r6;
	vdynamic *r7;
	varray *r8;
	int r1, r2, r4, r5;
	r1 = 0;
	r2 = 0;
	r3 = r0->buffers;
	label$fe77aea_3_3:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r2 >= r5 ) goto label$fe77aea_3_20;
	r5 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r5) ) goto label$fe77aea_3_11;
	r6 = NULL;
	goto label$fe77aea_3_14;
	label$fe77aea_3_11:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r2];
	r6 = (h3d__Buffer)r7;
	label$fe77aea_3_14:
	++r2;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->vertices;
	r4 = r1 + r5;
	r1 = r4;
	goto label$fe77aea_3_3;
	label$fe77aea_3_20:
	r2 = r0->bufPos;
	r9 = (double)r2;
	r10 = r0->format;
	if( r10 == NULL ) hl_null_access();
	r2 = r10->stride;
	r11 = (double)r2;
	r9 = r9 / r11;
	r4 = (int)r9;
	r2 = r1 + r4;
	return r2;
}

void h3d_prim_BigPrimitive_flush(h3d__prim__BigPrimitive r0) {
	hl__types__ArrayObj r12;
	bool r5;
	hl__types__ArrayBytes_hl_F32 r2;
	hl__types__ArrayBytes_hl_UI16 r14;
	hxd__impl__Allocator r6;
	hxd__BufferFormat r8;
	h3d__prim__$BigPrimitive r18;
	h3d__Buffer r10;
	double r7, r9;
	int *r11, *r16;
	h3d__Indexes r13;
	int r3, r4, r15, r17, r19;
	r2 = r0->tmpBuf;
	if( !r2 ) goto label$fe77aea_4_100;
	r3 = r0->bufPos;
	r4 = 0;
	if( r4 >= r3 ) goto label$fe77aea_4_62;
	r3 = r0->idxPos;
	r4 = 0;
	if( r4 >= r3 ) goto label$fe77aea_4_62;
	r5 = true;
	r0->flushing = r5;
	r6 = r0->allocator;
	if( !r6 ) goto label$fe77aea_4_27;
	r3 = r0->bufPos;
	r7 = (double)r3;
	r8 = r0->format;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->stride;
	r9 = (double)r3;
	r7 = r7 / r9;
	r6 = r0->allocator;
	if( r6 == NULL ) hl_null_access();
	r2 = r0->tmpBuf;
	r3 = (int)r7;
	r8 = r0->format;
	r11 = NULL;
	r10 = hxd_impl_Allocator_ofSubFloats(r6,r2,r3,r8,r11);
	goto label$fe77aea_4_39;
	label$fe77aea_4_27:
	r3 = r0->bufPos;
	r7 = (double)r3;
	r8 = r0->format;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->stride;
	r9 = (double)r3;
	r7 = r7 / r9;
	r2 = r0->tmpBuf;
	r3 = (int)r7;
	r8 = r0->format;
	r12 = NULL;
	r10 = h3d_Buffer_ofSubFloats(r2,r3,r8,r12);
	label$fe77aea_4_39:
	r12 = r0->buffers;
	if( r12 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_push(r12,((vdynamic*)r10));
	r6 = r0->allocator;
	if( !r6 ) goto label$fe77aea_4_51;
	r6 = r0->allocator;
	if( r6 == NULL ) hl_null_access();
	r14 = r0->tmpIdx;
	r3 = r0->idxPos;
	r11 = &r3;
	r13 = hxd_impl_Allocator_ofIndexes(r6,r14,r11);
	goto label$fe77aea_4_57;
	label$fe77aea_4_51:
	r14 = r0->tmpIdx;
	r4 = 0;
	r11 = &r4;
	r15 = r0->idxPos;
	r16 = &r15;
	r13 = h3d_Indexes_alloc(r14,r11,r16);
	label$fe77aea_4_57:
	r12 = r0->allIndexes;
	if( r12 == NULL ) hl_null_access();
	r17 = hl_types_ArrayObj_push(r12,((vdynamic*)r13));
	r5 = false;
	r0->flushing = r5;
	label$fe77aea_4_62:
	r18 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r2 = r18->PREV_BUFFER;
	if( !r2 ) goto label$fe77aea_4_73;
	r18 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r2 = r18->PREV_BUFFER;
	if( r2 == NULL ) hl_null_access();
	r17 = r2->length;
	r2 = r0->tmpBuf;
	if( r2 == NULL ) hl_null_access();
	r19 = r2->length;
	if( r17 >= r19 ) goto label$fe77aea_4_76;
	label$fe77aea_4_73:
	r2 = r0->tmpBuf;
	r18 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r18->PREV_BUFFER = r2;
	label$fe77aea_4_76:
	r18 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r14 = r18->PREV_INDEX;
	if( !r14 ) goto label$fe77aea_4_87;
	r18 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r14 = r18->PREV_INDEX;
	if( r14 == NULL ) hl_null_access();
	r17 = r14->length;
	r14 = r0->tmpIdx;
	if( r14 == NULL ) hl_null_access();
	r19 = r14->length;
	if( r17 >= r19 ) goto label$fe77aea_4_90;
	label$fe77aea_4_87:
	r14 = r0->tmpIdx;
	r18 = (h3d__prim__$BigPrimitive)g$_h3d_prim_BigPrimitive;
	r18->PREV_INDEX = r14;
	label$fe77aea_4_90:
	r2 = NULL;
	r0->tmpBuf = r2;
	r14 = NULL;
	r0->tmpIdx = r14;
	r17 = 0;
	r0->bufPos = r17;
	r17 = 0;
	r0->idxPos = r17;
	r17 = 0;
	r0->startIndex = r17;
	label$fe77aea_4_100:
	return;
}

void h3d_prim_BigPrimitive_render(h3d__prim__BigPrimitive r0,h3d__Engine r1) {
	hl__types__ArrayObj r6;
	hl__types__ArrayBytes_hl_F32 r3;
	h3d__Buffer r9;
	int *r13, *r14;
	vdynamic *r10;
	h3d__Indexes r12;
	varray *r11;
	int r4, r5, r7, r8;
	r3 = r0->tmpBuf;
	if( !r3 ) goto label$fe77aea_5_3;
	h3d_prim_BigPrimitive_flush(r0);
	label$fe77aea_5_3:
	r4 = 0;
	r6 = r0->buffers;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	label$fe77aea_5_7:
	if( r4 >= r5 ) goto label$fe77aea_5_34;
	r7 = r4;
	++r4;
	if( r1 == NULL ) hl_null_access();
	r6 = r0->buffers;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$fe77aea_5_18;
	r9 = NULL;
	goto label$fe77aea_5_21;
	label$fe77aea_5_18:
	r11 = r6->array;
	r10 = ((vdynamic**)(r11 + 1))[r7];
	r9 = (h3d__Buffer)r10;
	label$fe77aea_5_21:
	r6 = r0->allIndexes;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$fe77aea_5_27;
	r12 = NULL;
	goto label$fe77aea_5_30;
	label$fe77aea_5_27:
	r11 = r6->array;
	r10 = ((vdynamic**)(r11 + 1))[r7];
	r12 = (h3d__Indexes)r10;
	label$fe77aea_5_30:
	r13 = NULL;
	r14 = NULL;
	h3d_Engine_renderIndexed(r1,r9,r12,r13,r14);
	goto label$fe77aea_5_7;
	label$fe77aea_5_34:
	return;
}

h3d__col__Bounds h3d_prim_BigPrimitive_getBounds(h3d__prim__BigPrimitive r0) {
	h3d__col__Bounds r1;
	r1 = r0->bounds;
	return r1;
}

void h3d_prim_BigPrimitive_dispose(h3d__prim__BigPrimitive r0) {
	h3d_prim_BigPrimitive_clear(r0);
	return;
}

void h3d_prim_BigPrimitive_clear(h3d__prim__BigPrimitive r0) {
	String r3;
	hl__types__ArrayObj r8;
	hl_type *r14;
	hl__types__ArrayBytes_hl_F32 r15;
	bool r2;
	hl__types__ArrayBytes_hl_UI16 r16;
	h3d__col__Bounds r5;
	hxd__impl__Allocator r12;
	h3d__Buffer r10;
	double r6;
	vdynamic *r4;
	h3d__Indexes r13;
	varray *r11;
	int r7, r9;
	r2 = r0->flushing;
	if( !r2 ) goto label$fe77aea_8_4;
	r3 = (String)s$646f081;
	hl_throw((vdynamic*)r3);
	label$fe77aea_8_4:
	r5 = r0->bounds;
	if( r5 == NULL ) hl_null_access();
	r6 = 1e+20;
	r5->xMin = r6;
	r6 = -1e+20;
	r5->xMax = r6;
	r6 = 1e+20;
	r5->yMin = r6;
	r6 = -1e+20;
	r5->yMax = r6;
	r6 = 1e+20;
	r5->zMin = r6;
	r6 = -1e+20;
	r5->zMax = r6;
	r7 = 0;
	r8 = r0->buffers;
	label$fe77aea_8_20:
	if( r8 == NULL ) hl_null_access();
	r9 = r8->length;
	if( r7 >= r9 ) goto label$fe77aea_8_41;
	r9 = r8->length;
	if( ((unsigned)r7) < ((unsigned)r9) ) goto label$fe77aea_8_28;
	r10 = NULL;
	goto label$fe77aea_8_31;
	label$fe77aea_8_28:
	r11 = r8->array;
	r4 = ((vdynamic**)(r11 + 1))[r7];
	r10 = (h3d__Buffer)r4;
	label$fe77aea_8_31:
	++r7;
	r12 = r0->allocator;
	if( !r12 ) goto label$fe77aea_8_38;
	r12 = r0->allocator;
	if( r12 == NULL ) hl_null_access();
	hxd_impl_Allocator_disposeBuffer(r12,r10);
	goto label$fe77aea_8_40;
	label$fe77aea_8_38:
	if( r10 == NULL ) hl_null_access();
	h3d_Buffer_dispose(r10);
	label$fe77aea_8_40:
	goto label$fe77aea_8_20;
	label$fe77aea_8_41:
	r7 = 0;
	r8 = r0->allIndexes;
	label$fe77aea_8_43:
	if( r8 == NULL ) hl_null_access();
	r9 = r8->length;
	if( r7 >= r9 ) goto label$fe77aea_8_64;
	r9 = r8->length;
	if( ((unsigned)r7) < ((unsigned)r9) ) goto label$fe77aea_8_51;
	r13 = NULL;
	goto label$fe77aea_8_54;
	label$fe77aea_8_51:
	r11 = r8->array;
	r4 = ((vdynamic**)(r11 + 1))[r7];
	r13 = (h3d__Indexes)r4;
	label$fe77aea_8_54:
	++r7;
	r12 = r0->allocator;
	if( !r12 ) goto label$fe77aea_8_61;
	r12 = r0->allocator;
	if( r12 == NULL ) hl_null_access();
	hxd_impl_Allocator_disposeIndexBuffer(r12,r13);
	goto label$fe77aea_8_63;
	label$fe77aea_8_61:
	if( r13 == NULL ) hl_null_access();
	h3d_Indexes_dispose(r13);
	label$fe77aea_8_63:
	goto label$fe77aea_8_43;
	label$fe77aea_8_64:
	r14 = &t$h3d_Buffer;
	r7 = 0;
	r11 = hl_alloc_array(r14,r7);
	r8 = hl_types_ArrayObj_alloc(r11);
	r0->buffers = r8;
	r14 = &t$h3d_Indexes;
	r7 = 0;
	r11 = hl_alloc_array(r14,r7);
	r8 = hl_types_ArrayObj_alloc(r11);
	r0->allIndexes = r8;
	r7 = 0;
	r0->bufPos = r7;
	r7 = 0;
	r0->idxPos = r7;
	r15 = NULL;
	r0->tmpBuf = r15;
	r16 = NULL;
	r0->tmpIdx = r16;
	return;
}

void h3d_prim_BigPrimitive_new(h3d__prim__BigPrimitive r0,hxd__BufferFormat r1,hxd__impl__Allocator r2) {
	String r11;
	hl__types__ArrayObj r6;
	hl_type *r8;
	bool r3;
	h3d__col__Bounds r9;
	varray *r7;
	int r4, r10;
	r3 = true;
	r0->isStatic = r3;
	r4 = 0;
	r0->startIndex = r4;
	r4 = 0;
	r0->idxPos = r4;
	r4 = 0;
	r0->bufPos = r4;
	h3d_prim_Primitive_new(((h3d__prim__Primitive)r0));
	r0->format = r1;
	r8 = &t$h3d_Buffer;
	r4 = 0;
	r7 = hl_alloc_array(r8,r4);
	r6 = hl_types_ArrayObj_alloc(r7);
	r0->buffers = r6;
	r8 = &t$h3d_Indexes;
	r4 = 0;
	r7 = hl_alloc_array(r8,r4);
	r6 = hl_types_ArrayObj_alloc(r7);
	r0->allIndexes = r6;
	r9 = (h3d__col__Bounds)hl_alloc_obj(&t$h3d_col_Bounds);
	h3d_col_Bounds_new(r9);
	r0->bounds = r9;
	r0->allocator = r2;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->stride;
	r10 = 3;
	if( r4 >= r10 ) goto label$fe77aea_9_30;
	r11 = (String)s$Minimum_stride_3;
	hl_throw((vdynamic*)r11);
	label$fe77aea_9_30:
	return;
}

